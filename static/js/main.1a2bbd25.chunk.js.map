{"version":3,"sources":["components/MyPosts/Post/Post.module.scss","utils/handles.ts","const/index.ts","redux/reducer/dialogs/dialog-reducer.tsx","redux/reducer/profile/profile-reducer.tsx","redux/reducer/users/user-reducer.ts","redux/reducer/auth/auth-reducer.ts","redux/reducer/app/app-reducer.ts","redux/reducer/posts/posts-reducer.ts","redux/redux-store.tsx","enums/PATH.ts","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/SuperButton/SuperButton.tsx","common/paginator/Paginator.tsx","assets/oval.svg","common/preloader/Preloader.tsx","enums/ResultCode.ts","api/apiConfig/index.ts","api/api.ts","redux/reducer/users/thunk.ts","components/FollowUnfollowBtn/FollowUnfollowBtn.tsx","components/Users/User/User.tsx","components/SuperInput/SuperInputText.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx","components/Dialogs/Dialog/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","hoc/withRedirect.tsx","components/Dialogs/DialogsContainer.tsx","enums/ErrorMessages.ts","assets/like.svg","components/MyPosts/Post/Post.tsx","components/SuperTextarea/SuperTextarea.tsx","components/MyPosts/MyPosts.tsx","components/MyPosts/MyPostsContainer.tsx","components/EditableSpan/EditableSpan.tsx","components/MyPosts/ProfileInfo/EditProfileForm/ProfileContact/ProfileContact.tsx","components/MyPosts/ProfileInfo/EditProfileForm/FriendsIcons/FriendsIcons.tsx","components/SuperCheckBox/SuperCheckBox.tsx","components/Modal/Modal.tsx","components/MyPosts/ProfileInfo/EditProfileForm/ProfileForm.tsx","components/MyPosts/ProfileInfo/ProfileAvatar/ProfileAvatar.tsx","components/MyPosts/ProfileInfo/ProfileInfo.tsx","redux/reducer/profile/thunk.ts","components/MyPosts/ProfileInfo/ProfileInfoContainer.ts","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","utils/validators.ts","components/Login/Login.tsx","utils/errorHandler.ts","redux/reducer/auth/thunk.ts","components/Login/LoginContainer.tsx","components/NavBar/ItemList/ItemList.tsx","components/NavBar/NavBar.tsx","components/NotFound/NotFound.tsx","App.tsx","redux/reducer/app/thunk.ts","index.tsx","components/Users/Users.module.scss","components/MyPosts/ProfileInfo/EditProfileForm/ProfileForm.module.scss","components/Login/Login.module.scss","components/MyPosts/ProfileInfo/ProfileInfo.module.scss","components/Users/User/User.module.scss","components/NavBar/NavBar.module.scss","App.module.scss","components/Dialogs/Dialogs.module.css","components/Modal/Modal.module.scss","common/paginator/Paginator.module.css","components/SuperButton/SuperButton.module.scss","components/SuperInput/SuperInputText.module.scss","components/MyPosts/MyPosts.module.scss","components/MyPosts/ProfileInfo/EditProfileForm/ProfileContact/ProfileContact.module.scss","components/SuperCheckBox/SuperCheckBox.module.scss","components/MyPosts/ProfileInfo/ProfileAvatar/ProfileAvatar.module.scss","components/NavBar/ItemList/ItemList.module.scss","components/Dialogs/Dialog/Dialog.module.css","common/preloader/Preloader.module.scss","components/SuperTextarea/SuperTextarea.module.scss","components/Profile/Profile.module.scss","components/EditableSpan/EditableSpan.module.scss"],"names":["module","exports","conversionDate","date","length","EMPTY_STRING","initialUserAvatar","currentMonth","Date","getMonth","toString","currentDay","getDate","currentDate","getFullYear","initialState","dialogsData","id","v1","user","messageData","textMessage","dialogReducer","state","action","type","newMessage","messageText","newMessageText","profile","status","setStatus","payload","profileReducer","photos","items","pageSize","totalUserCount","currentPage","isFetching","followingInProgress","itemsType","term","followUser","unFollowUser","toggleIsFetching","toggleFollowProgress","isFollowInProgress","userId","toggleItemsType","userReducer","map","m","followed","filter","f","data","email","login","isAuth","captchaUrl","setAuthUserData","authReducer","isInitialization","RequestStatus","setAppStatusAC","appReducer","postsData","message","likes","isLiked","postsReducer","deletedPost","post","newPost","postText","rootReducer","combineReducers","DialogsPage","ProfilePage","UsersPage","auth","app","posts","store","createStore","composeWithDevTools","applyMiddleware","ThunkMiddleware","window","PATH","News","props","Music","Settings","SuperButton","memo","red","className","restProps","finalClassName","style","btn","default","Paginator","onChangePageClick","portionSize","useState","portionNumber","setPortionNumber","pagesCount","Math","ceil","pages","i","push","portionCount","leftPortionPageNumber","rightPortionPageNumber","conditionForShowPrevButton","conditionForShowNextButton","styles","paginator","onClick","page","pageNum","scrollTo","Preloader","src","preload","alt","imgPreload","RESULT_CODES","instance","axios","create","baseURL","process","withCredentials","headers","UsersAPI","getUsersQueryParams","get","params","then","response","delete","ProfileAPI","put","photoFile","formData","FormData","append","updateProfile","LoginAPI","loginData","password","rememberMe","captcha","getUsersThunk","dispatch","getState","a","paramsForQuery","count","friend","totalCount","FollowUnfollowBtn","item","unfollowThunk","followThunk","conditionForDisabledButton","some","disabled","connect","ownProps","resultCode","SUCCESS","User","to","PROFILE","userBlock","small","userPhoto","userName","name","userStatus","followBtn","SuperInputText","onChange","onChangeText","onKeyPress","onEnter","error","finalInputClassName","input","errorInput","superInput","e","currentTarget","value","key","Users","changePage","setTerm","searchValue","setSearchValue","titleText","itemsArr","callback","styleName","activeLink","link","useEffect","idOfTimeout","setTimeout","clearTimeout","handleChangePageClick","useCallback","userContainer","navBar","usersBlock","titleWithSearchInput","usersBlockTitle","trim","inputSearch","users","compose","UsersContainer","this","Component","withRouter","DialogItem","number","DIALOGS","s","dialog","activeClassName","active","MessageItem","Dialogs","dialogs","messages","addMessage","dialogsElements","messagesElements","formik","useFormik","initialValues","onSubmit","values","resetForm","dialogsItems","addMessageWrapper","handleSubmit","placeholder","getFieldProps","mapStateToProps","ERROR_MESSAGE","LOGIN","Post","likesCount","fullName","photo","deletePost","likePost","dislikePost","srcForAvatar","postWrapper","myPosts","leftBlock","avatar","nameLink","dateSettingsBlock","settingsBtn","postBlock","likeBlock","like","likeIcon","SuperTextarea","finalTextareaClassName","textarea","MyPosts","addPost","postsElements","myPostsContainer","addPostForm","fieldAddPost","EditableSpan","title","updateTitle","myStyle","text","setText","edit","setEdit","activateSpanMode","onDoubleClick","onBlur","autoFocus","code","ProfileContact","icon","isOwner","linkURL","setLinkURL","classNameForEmptyLink","emptyLink","href","preventDefault","target","FriendsIcons","followingUsers","history","useHistory","followingCount","following","followingTitle","USERS","followingIconsBlock","followingPhoto","SuperCheckBox","onChangeChecked","children","spanClassName","checkbox","labelForCheckBox","checked","Modal","itemsForForm","onSubmitBtnClick","setIsModalShown","objInitialValues","newVal","initialValueTitle","initialValue","shallowEqual","modalContainer","modalBlock","form","btnSave","ProfileForm","contacts","aboutMe","isContactEditFormShown","setIsContactEditFormShown","contactsArr","vk","faVk","facebook","faFacebook","twitter","faTwitter","instagram","faInstagram","youtube","faYoutube","github","faGithub","website","faLinkedinIn","mainLink","faTelegramPlane","handleIconUpdateLinkClick","updateContact","userForm","contact","btnEditLinks","ProfileAvatar","saveProfileAvatar","inRef","useRef","imgWrappOwner","imgWrapp","current","click","profilePhoto","files","ref","display","ProfileInfo","updateUserStatus","userIdAuth","isModalShown","currentUser","find","valuesForUpdateProfile","lookingForAJob","lookingForAJobDescription","handleEditableSpanClick","newTitle","profileInfoWrapper","headerBlock","flexCont","nameBlock","getUserProfile","newAvatar","profileForUpdate","Profile","Object","keys","profileWrapper","ProfileInfoContainer","MyPostsContainer","ProfileContainer","refresh","match","getUserStatus","prevProps","prevState","PureComponent","passwordRegex","Login","loginThunk","validate","errors","test","INVALID_EMAIL","REQUIRED","SHORT_PASSWORD","NEED_NUMBER","validateLoginForm","fieldsWithValidation","touched","loginWrapper","field","relativeInputBlock","padding","btnMargin","handleServerNetworkError","textErr","stopSubmit","_error","getAuthDataThunk","getCaptcha","url","CAPTCHA","ItemList","path","NavBar","logoutThunk","listArray","faUser","faEnvelope","faUsers","NEWS","faRss","MUSIC","faItunesNote","SETTINGS","faCogs","list","span","faSignOutAlt","authId","NotFound","App","Initialize","appContainer","appWrapperAuth","appWrapperContent","exact","START","render","DialogsContainer","LoginContainer","NOT_FOUND","from","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1a2bbd25.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"postWrapper\":\"Post_postWrapper__1qeko\",\"myPosts\":\"Post_myPosts__pdi8b\",\"leftBlock\":\"Post_leftBlock__3-9I4\",\"avatar\":\"Post_avatar__1kmR8\",\"nameLink\":\"Post_nameLink__29vRT\",\"name\":\"Post_name__3cikN\",\"email\":\"Post_email__uN3GX\",\"dateSettingsBlock\":\"Post_dateSettingsBlock__DK4N0\",\"date\":\"Post_date__NFiKN\",\"settingsBtn\":\"Post_settingsBtn__fBdCg\",\"settingsBlock\":\"Post_settingsBlock__38sIN\",\"postBlock\":\"Post_postBlock__2prnk\",\"postText\":\"Post_postText__1uukU\",\"likeBlock\":\"Post_likeBlock__GD00y\",\"likeIcon\":\"Post_likeIcon__kdW-Z\"};","export const conversionDate = (date: string) => {\r\n    if (date.length === 1) {\r\n       return `0${date}`\r\n    }\r\n    return date\r\n}","import {conversionDate} from \"../utils/handles\";\r\n\r\nexport const EMPTY_STRING = '';\r\n\r\nexport const PAGE_SIZE = 10;\r\n\r\nexport const initialUserAvatar = 'http://pm1.narvii.com/7812/ed9961348bc94cd31227151dd9aa1f918c40cff5r1-869-968v2_uhq.jpg';\r\n\r\nexport const currentMonth = conversionDate((new Date().getMonth() + 1).toString())\r\nexport const currentDay = conversionDate((new Date().getDate()).toString())\r\n\r\nexport const currentDate = `${currentDay}.${currentMonth}.${new Date().getFullYear()}`","import {v1} from \"uuid\";\r\nimport {actionsType} from \"../../redux-store\";\r\nimport {EMPTY_STRING} from \"../../../const\";\r\n\r\n\r\nlet initialState = {\r\n    dialogsData: [{id: v1(), user: 'Nastya'},\r\n        {id: v1(), user: 'Dima'},\r\n        {id: v1(), user: 'Victor'}],\r\n    messageData: [{id: v1(), textMessage: 'yo'},\r\n        {id: v1(), textMessage: 'konichiwa'}],\r\n}\r\n\r\nexport type dialogsDataType = {\r\n    id: string\r\n    user: string\r\n}\r\nexport type messageDataType = {\r\n    id: string\r\n    textMessage: string\r\n}\r\n\r\nexport type DialogsPageType = {\r\n    dialogsData: Array<dialogsDataType>\r\n    messageData: Array<messageDataType>\r\n\r\n\r\n}\r\n\r\nconst dialogReducer = (state: DialogsPageType = initialState, action: actionsType) => {\r\n\r\n    switch (action.type) {\r\n        case 'DIALOGS/ADD-MESSAGE':\r\n            let newMessage: messageDataType = {id: v1(), textMessage: action.messageText}\r\n            return {\r\n                ...state,\r\n                messageData: [...state.messageData, newMessage],\r\n                newMessageText: EMPTY_STRING\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addMessage = (messageText: string) => ({\r\n    type: 'DIALOGS/ADD-MESSAGE',\r\n    messageText: messageText\r\n}) as const\r\n\r\n\r\n\r\n\r\n\r\nexport default dialogReducer","import {actionsType} from \"../../redux-store\";\r\nimport {EMPTY_STRING} from \"../../../const\";\r\n\r\n\r\nlet initialState = {\r\n    profile: {} as profileDataUserType,\r\n    status: EMPTY_STRING,\r\n}\r\n\r\nexport type ProfilePageType = {\r\n    profile: profileDataUserType\r\n    status: string\r\n}\r\n\r\nexport type profileDataUserType = {\r\n    aboutMe: string\r\n    contacts: ContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number\r\n    photos: PhotosType\r\n}\r\n\r\nexport type ContactsType = {\r\n    facebook: string\r\n    website: string\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: string\r\n    github: string\r\n    mainLink: string\r\n}\r\ntype PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: actionsType) => {\r\n    switch (action.type) {\r\n        case \"PROFILE/SET-STATUS\":\r\n        case \"PROFILE/SET-USER-PROFILE\":\r\n            return {\r\n                ...state, ...action.payload\r\n            }\r\n        case 'PROFILE/SET_PHOTOS':\r\n            return {\r\n                ...state, profile: {...state.profile, photos: {...action.payload}}\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setUserProfile = (profile: profileDataUserType) => ({\r\n    type: 'PROFILE/SET-USER-PROFILE',\r\n    payload: {profile},\r\n}) as const\r\n\r\nexport const setStatus = (status: string) => ({\r\n    type: 'PROFILE/SET-STATUS',\r\n    payload: {status},\r\n}) as const\r\n\r\nexport const setAvatar = (photos: PhotosType) => ({\r\n        type: 'PROFILE/SET_PHOTOS',\r\n        payload: photos\r\n    }\r\n) as const\r\n\r\n\r\nexport default profileReducer","import {actionsType} from \"../../redux-store\";\r\nimport {ItemsUsersResponseType} from \"../../../api/types\";\r\nimport {PAGE_SIZE} from \"../../../const\";\r\nimport {Nullable} from \"../../../types/Nullable\";\r\n\r\nexport type itemsT = 'users' | 'friends' | null\r\n\r\nlet initialState = {\r\n    items: [ ],\r\n    pageSize: PAGE_SIZE,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n    itemsType: 'friends' as itemsT,\r\n    term: null\r\n};\r\nexport type UsersPageType = {\r\n    items: Array<ItemsUsersResponseType>\r\n    pageSize: number\r\n    totalUserCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n    itemsType: itemsT\r\n    term: Nullable<string>\r\n}\r\n\r\n\r\nexport const userReducer = (state: UsersPageType = initialState, action: actionsType) => {\r\n    switch (action.type) {\r\n\r\n        case \"USER/FOLLOW-USER\":\r\n            return {\r\n                ...state,\r\n                items: state.items.map(m => m.id === action.id ? {...m, followed: true} : m)\r\n            }\r\n        case \"USER/UNFOLLOW-USER\":\r\n            return {\r\n                ...state,\r\n                items: state.items.map(m => m.id === action.id ? {...m, followed: false} : m)\r\n            }     //и тут\r\n        case \"USER/SET-USERS\":\r\n        case \"USER/CHANGE-PAGE\":\r\n        case \"USER/SET-TOTAL-USER-COUNT\":\r\n        case \"USER/TOGGLE-IS-FETCHING\":\r\n        case 'USER/TOGGLE-ITEMS-TYPE':\r\n        case 'USER/SET-TERM':\r\n            return {\r\n                ...state, ...action.payload\r\n            }\r\n        case \"USER/TOGGLE-FOLLOW-PROGRESS\":\r\n            return action.isFollowInProgress ? {\r\n                ...state, followingInProgress: [...state.followingInProgress, action.userId]\r\n            } : {...state, followingInProgress: state.followingInProgress.filter(f => f !== action.userId)}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followUser = (id: number) => ({\r\n    type: 'USER/FOLLOW-USER',\r\n    id,\r\n}) as const\r\n\r\nexport const unFollowUser = (id: number) => ({\r\n    type: 'USER/UNFOLLOW-USER',\r\n    id,\r\n}) as const\r\n\r\nexport const setUsers = (items: Array<ItemsUsersResponseType>) => ({\r\n    type: 'USER/SET-USERS',\r\n    payload: {items},\r\n} as const)\r\n\r\nexport const changePage = (currentPage: number) => ({\r\n        type: 'USER/CHANGE-PAGE',\r\n        payload: {currentPage},\r\n    } as const\r\n)\r\n\r\nexport const setTotalUsersCount = (totalUserCount: number) => ({\r\n        type: 'USER/SET-TOTAL-USER-COUNT',\r\n        payload: {totalUserCount},\r\n    } as const\r\n)\r\n\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => ({\r\n        type: 'USER/TOGGLE-IS-FETCHING',\r\n        payload: {isFetching},\r\n    }\r\n) as const\r\n\r\nexport const toggleFollowProgress = (isFollowInProgress: boolean, userId: number) => ({\r\n        type: 'USER/TOGGLE-FOLLOW-PROGRESS',\r\n        isFollowInProgress,\r\n        userId,\r\n    }\r\n) as const\r\n\r\nexport const toggleItemsType = (itemsType: itemsT) => ({\r\n        type: 'USER/TOGGLE-ITEMS-TYPE',\r\n        payload: {itemsType}\r\n    }\r\n) as const\r\n\r\nexport const setTerm = (term: Nullable<string>) => ({\r\n        type: 'USER/SET-TERM',\r\n        payload: {term}\r\n    }\r\n) as const\r\n\r\n\r\nexport default userReducer","import {actionsType} from \"../../redux-store\";\r\nimport {profileDataUserType} from \"../profile/profile-reducer\";\r\nimport {Nullable} from \"../../../types/Nullable\";\r\nimport {EMPTY_STRING} from \"../../../const\";\r\n\r\n\r\nlet initialState = {\r\n    data: {\r\n        email: EMPTY_STRING,\r\n        id: null,\r\n        login: EMPTY_STRING,\r\n    },\r\n    isAuth: false,\r\n    profile: null,\r\n    captchaUrl: EMPTY_STRING,\r\n};\r\n\r\nexport type authType = {\r\n    data: authDataType\r\n    isAuth: boolean\r\n    profile: Nullable<profileDataUserType>\r\n    captchaUrl: string\r\n}\r\n\r\nexport type authDataType = {\r\n    id: Nullable<number>\r\n    login: Nullable<string>\r\n    email: Nullable<string>\r\n}\r\n\r\nexport const authReducer = (state: authType = initialState, action: actionsType) => {\r\n\r\n    switch (action.type) {\r\n        case 'AUTH/SET-AUTH-USER-DATA':\r\n            return {\r\n                ...state,\r\n                data: {...action.data}, isAuth: action.isAuth\r\n            }\r\n        case 'AUTH/TOGGLE-IS-LOGGED-IN':\r\n\r\n            return {...state, ...action.payload}\r\n        case 'AUTH/SET-MY-PROFILE-DATA':\r\n        case 'AUTH/SET-CAPTCHA':\r\n\r\n            return {...state, ...action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (data: authDataType, isAuth: boolean) => {\r\n    return({\r\n        type: 'AUTH/SET-AUTH-USER-DATA',\r\n        data,\r\n        isAuth,\r\n    }) as const\r\n}\r\n\r\nexport const setMyProfileData = (profile: profileDataUserType) => ({\r\n    type: 'AUTH/SET-MY-PROFILE-DATA',\r\n    payload: {profile},\r\n}) as const\r\n\r\nexport const setCaptchaSuccess = (captchaUrl: string) => ({\r\n    type: 'AUTH/SET-CAPTCHA',\r\n    payload: {captchaUrl},\r\n}) as const\r\n\r\nexport const toggleIsLoggedIn = (isLoggedIn: boolean) => ({\r\n    type: 'AUTH/TOGGLE-IS-LOGGED-IN',\r\n    payload: {isLoggedIn},\r\n}) as const\r\n\r\n\r\nexport default authReducer","import {actionsType} from \"../../redux-store\";\r\n\r\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\r\n\r\nlet initialState = {\r\n    isInitialization: false,\r\n    RequestStatus: 'idle' as RequestStatusType\r\n};\r\n\r\ntype initialStateAppType = {\r\n    isInitialization: boolean\r\n    RequestStatus: RequestStatusType\r\n}\r\n\r\nexport const appReducer = (state: initialStateAppType = initialState, action: actionsType) => {\r\n\r\n    switch (action.type) {\r\n        case 'APP/SET-INITIALIZATION':\r\n            return {\r\n                ...state,\r\n                isInitialization: true\r\n            }\r\n        case 'APP/SET-STATUS':\r\n            return {...state, ...action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setInitialization = () => ({\r\n    type: 'APP/SET-INITIALIZATION',\r\n}) as const\r\n\r\nexport const setAppStatusAC = (RequestStatus: RequestStatusType) => ({\r\n    type: 'APP/SET-STATUS',\r\n    payload: {\r\n        RequestStatus,\r\n    }\r\n} as const)\r\n\r\n\r\n\r\n\r\n\r\nexport default appReducer","import {v1} from \"uuid\";\r\nimport {actionsType} from \"../../redux-store\";\r\nimport {currentDate} from \"../../../const\";\r\n\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {id: v1(), message: 'it is my first post', likes: 30, date: '18.12.2020',isLiked:false},\r\n        {id: v1(), message: 'it-kamasutra', likes: 10, date: '20.02.2021',isLiked:false}],\r\n\r\n} as PostsType\r\nexport type postsDataType = {\r\n    id: string\r\n    message: string\r\n    likes: number\r\n    date: string | number\r\n    isLiked:boolean\r\n}\r\n\r\nexport type PostsType = {\r\n    postsData: Array<postsDataType>\r\n\r\n}\r\n\r\n\r\nexport const postsReducer = (state: PostsType = initialState, action: actionsType) => {\r\n    switch (action.type) {\r\n        case 'POSTS/DELETE-POST':\r\n            let deletedPost = state.postsData.filter(post => post.id !== action.id)\r\n            return {...state, postsData: deletedPost}\r\n\r\n        case 'POSTS/LIKE-POST':\r\n            return {...state,postsData:state.postsData.map(post=>\r\n                    post.id===action.id?{...post,likes:post.likes+1,isLiked:true}:post)}\r\n\r\n        case 'POSTS/DISLIKE-POST':\r\n            return {...state,postsData:state.postsData.map(post=>\r\n                    post.id===action.id?{...post,likes:post.likes-1,isLiked:false}:post)}\r\n\r\n        case 'POSTS/ADD-POST':\r\n            let newPost: postsDataType = {id: v1(), message: action.postText, likes: 0,\r\n                date: currentDate,isLiked:false}\r\n\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (postText: string) => ({\r\n    type: 'POSTS/ADD-POST',\r\n    postText: postText\r\n}) as const\r\n\r\nexport const deletePost = (id: string) => ({\r\n    type: 'POSTS/DELETE-POST',\r\n    id\r\n}) as const\r\n\r\nexport const likePost = (id: string) => ({\r\n    type: 'POSTS/LIKE-POST',\r\n    id\r\n}) as const\r\n\r\nexport const dislikePost = (id: string) => ({\r\n    type: 'POSTS/DISLIKE-POST',\r\n    id\r\n}) as const\r\n\r\n\r\n\r\n\r\n\r\nexport default postsReducer","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport dialogReducer, {addMessage} from \"./reducer/dialogs/dialog-reducer\";\r\nimport profileReducer, {\r\n\r\n    setAvatar,\r\n    setStatus,\r\n    setUserProfile\r\n} from \"./reducer/profile/profile-reducer\";\r\nimport userReducer, {\r\n    changePage,\r\n    followUser, setTerm,\r\n    setTotalUsersCount,\r\n    setUsers, toggleFollowProgress,\r\n    toggleIsFetching, toggleItemsType,\r\n    unFollowUser\r\n} from \"./reducer/users/user-reducer\";\r\nimport authReducer, {\r\n    setCaptchaSuccess,\r\n    setAuthUserData,\r\n    setMyProfileData,\r\n    toggleIsLoggedIn\r\n} from \"./reducer/auth/auth-reducer\";\r\nimport ThunkMiddleware, {ThunkAction} from 'redux-thunk'\r\nimport appReducer, {setAppStatusAC, setInitialization} from \"./reducer/app/app-reducer\";\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport postsReducer, {addPost, deletePost, dislikePost, likePost} from \"./reducer/posts/posts-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    DialogsPage: dialogReducer,\r\n    ProfilePage: profileReducer,\r\n    UsersPage: userReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    posts:postsReducer,\r\n})\r\n\r\nexport type stateType = ReturnType<typeof rootReducer>\r\n\r\nexport let store = createStore(rootReducer, composeWithDevTools(applyMiddleware(ThunkMiddleware)))\r\n\r\nexport type actionsType =\r\n    ReturnType<typeof addPost>\r\n    | ReturnType<typeof addMessage>\r\n    | ReturnType<typeof followUser>\r\n    | ReturnType<typeof unFollowUser>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof changePage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setAuthUserData>\r\n    | ReturnType<typeof toggleFollowProgress>\r\n    | ReturnType<typeof setMyProfileData>\r\n    | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof setInitialization>\r\n    | ReturnType<typeof setAvatar>\r\n    | ReturnType<typeof setAppStatusAC>\r\n    | ReturnType<typeof setCaptchaSuccess>\r\n    | ReturnType<typeof toggleIsLoggedIn>\r\n    | ReturnType<typeof toggleItemsType>\r\n    | ReturnType<typeof deletePost>\r\n    | ReturnType<typeof likePost>\r\n    | ReturnType<typeof dislikePost>\r\n    | ReturnType<typeof setTerm>\r\n\r\n\r\nexport type ThunkType = ThunkAction<void, stateType, unknown, actionsType>\r\n\r\n/*\r\nexport type storeType = {\r\n    _state: stateType\r\n    subscribe: (observer: () => void) => void\r\n    _callSubscriber: () => void\r\n    getState: () => stateType\r\n    dispatch: (action: actionsType) => void\r\n}*/\r\n\r\n// @ts-ignore\r\nwindow.store = store","export enum PATH {\r\n    START = '/',\r\n    LOGIN = '/login',\r\n    DIALOGS = '/dialogs',\r\n    PROFILE = '/profile',\r\n    USERS = '/users',\r\n    NEWS = '/news',\r\n    MUSIC = '/music',\r\n    SETTINGS = '/settings',\r\n    NOT_FOUND='/404',\r\n    FRIENDS='/friends'\r\n}","import s from \"./News.module.css\"\r\nimport React from \"react\";\r\ntype NewsPropsType={\r\n\r\n}\r\n\r\n\r\nexport const News = (props:NewsPropsType)=>{\r\n    return(\r\n        <div>news</div>\r\n    )\r\n}","import React from \"react\";\r\ntype MusicPropsType={\r\n\r\n}\r\n\r\n\r\nexport const Music = (props:MusicPropsType)=>{\r\n\r\n    return(\r\n        <div>music</div>\r\n    )\r\n}","import s from \"./Settings.module.css\"\r\nimport React from \"react\";\r\ntype SettingsPropsType={\r\n\r\n}\r\n\r\n\r\nexport const Settings = (props:SettingsPropsType)=>{\r\n    return(\r\n        <div>settings</div>\r\n    )\r\n}","import {ButtonHTMLAttributes, DetailedHTMLProps, FC, memo} from 'react'\r\nimport style from './SuperButton.module.scss'\r\n\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {\r\n    red?: boolean\r\n}\r\n\r\nconst SuperButton: FC<SuperButtonPropsType> = memo((\r\n    {\r\n        red, className,\r\n        ...restProps// все остальные пропсы попадут в объект restProps, там же будет children\r\n    }\r\n) => {\r\n    const finalClassName = `${style.btn} ${red ? style.red : style.default} ${className}`\r\n\r\n    return (\r\n        <button\r\n            className={finalClassName}\r\n            {...restProps} // отдаём кнопке остальные пропсы если они есть (children там внутри)\r\n        />\r\n    )\r\n})\r\n\r\nexport default SuperButton","import React, {FC, memo, useState} from \"react\";\r\nimport styles from './Paginator.module.css'\r\nimport SuperButton from \"../../components/SuperButton/SuperButton\";\r\n\r\ntype PaginatorPropsType = {\r\n    totalUserCount: number\r\n    pageSize: number\r\n    onChangePageClick: (currentPage: number) => void\r\n    portionSize: number\r\n    currentPage:number\r\n}\r\n\r\nconst Paginator: FC<PaginatorPropsType> = memo(({\r\n                                                    totalUserCount, pageSize,\r\n                                                    onChangePageClick, portionSize,currentPage\r\n                                                }) => {\r\n\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n    let pagesCount = Math.ceil(totalUserCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    const conditionForShowPrevButton = portionNumber > 1;\r\n    const conditionForShowNextButton = portionCount > portionNumber\r\n\r\n    const onPrevButtonClick = () => {\r\n        setPortionNumber(portionNumber - 1)\r\n    }\r\n\r\n    const onNextButtonClick = () => {\r\n        setPortionNumber(portionNumber + 1)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {conditionForShowPrevButton &&\r\n            <SuperButton onClick={onPrevButtonClick}>PREV</SuperButton>}\r\n\r\n            {pages\r\n                .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n                .map((page) => {\r\n\r\n                    const onPageClick = () => {\r\n                        onChangePageClick(page)\r\n                        window.scrollTo(0,0);\r\n                    }\r\n\r\n                    return <span key={page}\r\n                                 className={page===currentPage?styles.currentPage:styles.pageNum}\r\n                                 onClick={onPageClick}>{page}</span>\r\n                })}\r\n\r\n            {conditionForShowNextButton &&\r\n            <SuperButton onClick={onNextButtonClick}>NEXT</SuperButton>}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/oval.20fb271d.svg\";","import preload from \"../../assets/oval.svg\";\r\nimport React from \"react\";\r\nimport style from './Preloader.module.scss'\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <img src={preload} alt='preloader' className={style.imgPreload}/>)\r\n}\r\n\r\nexport default Preloader","export enum RESULT_CODES {\r\n    SUCCESS = 0,\r\n    CAPTCHA = 10,\r\n    ERROR = 1,\r\n}","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BASE_URL,\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": process.env.REACT_APP_API_KEY}\r\n})","import {profileDataUserType} from \"../redux/reducer/profile/profile-reducer\";\r\nimport {authDataType} from \"../redux/reducer/auth/auth-reducer\";\r\nimport {instance} from \"./apiConfig\";\r\nimport {\r\n    getUsersQueryParamsType,\r\n    getUsersResponse,\r\n    loginAPIDataType,\r\n    photosType,\r\n    ResponseType,\r\n    securityAPIResponseT,\r\n    updateProfilePayloadT\r\n} from \"./types\";\r\n\r\n\r\nexport const UsersAPI = {\r\n    getUsers: (getUsersQueryParams?:getUsersQueryParamsType) => {\r\n\r\n        return instance.get<getUsersResponse>(`users`,{params:getUsersQueryParams})\r\n            .then(response => response.data)\r\n    },\r\n\r\n    followUserAPI: (id: number) => {\r\n        return instance.post<ResponseType>(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    unfollowUserAPI: (id: number) => {\r\n        return instance.delete<ResponseType>(`follow/${id}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    getUserProfileAPI: (id: number) => {\r\n        return instance.get<profileDataUserType>(`profile/${id}`)\r\n            .then(response => response.data\r\n            )\r\n    },\r\n\r\n    getStatus: (id: number) => {\r\n        return instance.get<string>(`/profile/status/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    updateStatus: (status: string) => {\r\n        return instance.put<ResponseType>(`/profile/status`, {status})\r\n            .then(response => response.data)\r\n    },\r\n\r\n    updateAvatar: (photoFile: File) => {\r\n        let formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance.put<ResponseType<photosType>>(`/profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n            .then(response => response.data)\r\n    },\r\n\r\n    updateProfile:(updateProfile:updateProfilePayloadT)=>{\r\n        return instance.put<ResponseType>(`/profile`, updateProfile)\r\n            .then(response => {\r\n                return response.data})\r\n    }\r\n}\r\n\r\nexport const LoginAPI = {\r\n    login: (loginData: loginAPIDataType) => {\r\n        let {email, password, rememberMe, captcha} = loginData\r\n        return instance.post<ResponseType<{ userId: number }>>('/auth/login', {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n            captcha\r\n        })\r\n            .then(response => response.data)\r\n    },\r\n\r\n    logout: () => {\r\n        return instance.delete<ResponseType>('/auth/login')\r\n            .then(response => response.data)\r\n    },\r\n\r\n    getAuthUserData: () => {\r\n        return instance.get<ResponseType<authDataType>>(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n}\r\n\r\n\r\nexport const securityAPI = () => {\r\n    return instance.get<securityAPIResponseT>(`security/get-captcha-url`)\r\n        .then(response => response.data)\r\n}\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {actionsType, stateType} from \"../../redux-store\";\r\nimport {setAppStatusAC} from \"../app/app-reducer\";\r\nimport {UsersAPI} from \"../../../api/api\";\r\nimport {RESULT_CODES} from \"../../../enums/ResultCode\";\r\nimport {\r\n    followUser,\r\n    setTotalUsersCount,\r\n    setUsers,\r\n    toggleFollowProgress,\r\n    toggleIsFetching,\r\n    unFollowUser\r\n} from \"./user-reducer\";\r\n\r\nexport const getUsersThunk = () =>\r\n    async (dispatch: Dispatch<actionsType>, getState: () => stateType) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        dispatch(toggleIsFetching(true))\r\n        const {currentPage, pageSize, itemsType, term} = getState().UsersPage\r\n        const paramsForQuery = {\r\n            count:pageSize,\r\n            page: currentPage,\r\n            term,\r\n            friend: itemsType === 'friends'\r\n        }\r\n        let data = await UsersAPI.getUsers(paramsForQuery)\r\n        if (data) {\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUsersCount(data.totalCount))\r\n        }\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setAppStatusAC('succeeded'))\r\n    }\r\n\r\n\r\n\r\nexport const followThunk = (id: number) =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        dispatch(toggleFollowProgress(true, id))\r\n        let data = await UsersAPI.followUserAPI(id)\r\n        if (data.resultCode === RESULT_CODES.SUCCESS) {\r\n            dispatch(toggleFollowProgress(false, id))\r\n            dispatch(followUser(id))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        }\r\n    }\r\n\r\nexport const unfollowThunk = (id: number) =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        dispatch(toggleFollowProgress(true, id))\r\n        let data = await UsersAPI.unfollowUserAPI(id)\r\n        if (data.resultCode === RESULT_CODES.SUCCESS) {\r\n            dispatch(toggleFollowProgress(false, id))\r\n            dispatch(unFollowUser(id))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        }\r\n    }\r\n","import SuperButton from \"../SuperButton/SuperButton\";\r\nimport React, {FC, memo} from \"react\";\r\nimport {ItemsUsersResponseType} from \"../../api/types\";\r\nimport {connect} from \"react-redux\";\r\nimport {stateType} from \"../../redux/redux-store\";\r\nimport {followThunk, unfollowThunk} from \"../../redux/reducer/users/thunk\";\r\n\r\n\r\nconst FollowUnfollowBtn: FC<FollowUnfollowBtnPropsType> = memo(({\r\n                                                                    item, followingInProgress, unfollowThunk,\r\n                                                                    followThunk\r\n                                                                }) => {\r\n\r\n    const conditionForDisabledButton = followingInProgress.some(id => id === item.id)\r\n\r\n\r\n    const onUnfollowButtonClick = () => {\r\n        unfollowThunk(item.id)\r\n    }\r\n\r\n    const onFollowButtonClick = () => {\r\n        followThunk(item.id)\r\n    }\r\n\r\n\r\n    return (\r\n        <SuperButton disabled={conditionForDisabledButton}\r\n                     onClick={item.followed ? onUnfollowButtonClick : onFollowButtonClick}>\r\n            {item.followed ? 'Unfollow' : 'Follow'}</SuperButton>\r\n    )\r\n})\r\n\r\n\r\ntype FollowUnfollowBtnPropsType = MapDispatchPropsType & MapStateToPropsType & OwnPropsT\r\n\r\ntype MapStateToPropsType = {\r\n    followingInProgress: number[]\r\n}\r\ntype OwnPropsT = {\r\n    item: ItemsUsersResponseType\r\n}\r\n\r\nlet mapStateToProps = (state: stateType, ownProps: OwnPropsT) => ({\r\n    followingInProgress: state.UsersPage.followingInProgress,\r\n    item: ownProps.item\r\n})\r\n\r\ntype MapDispatchPropsType = {\r\n    followThunk: (id: number) => void\r\n    unfollowThunk: (id: number) => void\r\n}\r\n\r\nexport default connect<MapStateToPropsType, MapDispatchPropsType, OwnPropsT, stateType>\r\n(mapStateToProps, {followThunk, unfollowThunk})(FollowUnfollowBtn)","import React, {FC, memo} from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {PATH} from \"../../../enums/PATH\";\r\nimport {initialUserAvatar} from \"../../../const\";\r\nimport style from \"./User.module.scss\";\r\nimport FollowUnfollowBtn from \"../../FollowUnfollowBtn/FollowUnfollowBtn\";\r\nimport {ItemsUsersResponseType} from \"../../../api/types\";\r\n\r\ntype UserPropsType = {\r\n    item: ItemsUsersResponseType\r\n    isAuth: boolean\r\n}\r\n\r\n\r\nexport const User: FC<UserPropsType> = memo(({item, isAuth}) => {\r\n    return (\r\n        <NavLink to={PATH.PROFILE + '/' + item.id} key={item.id} className={style.userBlock}>\r\n\r\n            <img\r\n                src={item.photos.small || initialUserAvatar}\r\n                className={style.userPhoto} alt={'profile avatar'}/>\r\n\r\n\r\n            <div>\r\n                <p className={style.userName}>{item.name}</p>\r\n                <div className={style.userStatus}>{item.status}</div>\r\n\r\n            </div>\r\n            <div className={style.followBtn}>\r\n                {isAuth && <FollowUnfollowBtn item={item}/>\r\n                }\r\n            </div>\r\n\r\n\r\n        </NavLink>\r\n    )\r\n})","import React, {ChangeEvent, DetailedHTMLProps, FC, InputHTMLAttributes, KeyboardEvent, memo} from 'react'\r\nimport style from './SuperInputText.module.scss'\r\nimport {Nullable} from \"../../types/Nullable\";\r\n\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\n\r\ntype SuperInputTextPropsType = DefaultInputPropsType & { // и + ещё пропсы которых нет в стандартном инпуте\r\n    onChangeText?: (value: string) => void\r\n    onEnter?: () => void\r\n    error?: Nullable<string>\r\n    spanClassName?: string\r\n\r\n}\r\n\r\nconst SuperInputText: FC<SuperInputTextPropsType> = memo((\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeText,\r\n        onKeyPress, onEnter,\r\n        error,\r\n        className,\r\n        /*value*/\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n\r\n    const finalInputClassName = `${style.input} ${error ? style.errorInput : style.superInput} ${className} `\r\n\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChange // если есть пропс onChange\r\n        && onChange(e) // то передать ему е (поскольку onChange не обязателен)\r\n        onChangeText && onChangeText(e.currentTarget.value)\r\n\r\n    }\r\n\r\n    const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        onKeyPress && onKeyPress(e);\r\n        onEnter // если есть пропс onEnter\r\n        && e.key === 'Enter' // и если нажата кнопка Enter\r\n        && onEnter() // то вызвать его\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <input\r\n                type={type}\r\n                onChange={onChangeCallback}\r\n                onKeyPress={onKeyPressCallback}\r\n                className={finalInputClassName}\r\n                {...restProps}\r\n            />\r\n\r\n        </>\r\n    )\r\n})\r\n\r\nexport default SuperInputText","import style from \"./Users.module.scss\";\r\nimport React, {ChangeEvent, FC, KeyboardEvent, memo, useCallback, useEffect, useState} from \"react\";\r\nimport Paginator from \"../../common/paginator/Paginator\";\r\nimport {ItemsUsersResponseType} from \"../../api/types\";\r\nimport {stateType} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {changePage, itemsT, setTerm, toggleItemsType} from \"../../redux/reducer/users/user-reducer\";\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport {User} from \"./User/User\";\r\nimport SuperInputText from \"../SuperInput/SuperInputText\";\r\nimport {EMPTY_STRING} from \"../../const\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\n\r\n\r\nconst Users: FC<UsersPropsType> = memo(({\r\n                                            items, pageSize, totalUserCount, isFetching,\r\n                                            isAuth, currentPage, itemsType, changePage, toggleItemsType,\r\n                                            setTerm\r\n                                        }) => {\r\n\r\n        const [searchValue, setSearchValue] = useState<string>(EMPTY_STRING)\r\n\r\n        const portionSize = 10\r\n        const titleText = itemsType === 'friends' ? 'Your friends' : 'People you can follow'\r\n        const itemsArr = [\r\n            {\r\n                name: 'PEOPLE', callback: onPeopleLinkClick,\r\n                styleName: itemsType === 'users' ? style.activeLink : style.link\r\n            },\r\n            {\r\n                name: 'FRIENDS', callback: onFriendsLinkClick,\r\n                styleName: itemsType === 'friends' ? style.activeLink : style.link\r\n            },\r\n        ]\r\n\r\n        useEffect(() => {\r\n            let idOfTimeout =setTimeout(() => {\r\n            setTerm(searchValue)}, 1000)\r\n\r\n            return () => {\r\n                clearTimeout(idOfTimeout)\r\n        }}, [searchValue])\r\n\r\n        const handleChangePageClick = useCallback((currentPage: number) => {\r\n            changePage(currentPage)\r\n        }, [pageSize, itemsType, changePage])\r\n\r\n        const onSearchInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n            setSearchValue(e.currentTarget.value)\r\n        }\r\n\r\n        const onSearchInputEnterPress = (e: KeyboardEvent<HTMLInputElement>) => {\r\n            if ((e.key === 'Enter') && (searchValue.trim() !== EMPTY_STRING)) {\r\n            }\r\n        }\r\n\r\n        function onPeopleLinkClick() {\r\n            toggleItemsType('users')\r\n        }\r\n\r\n        function onFriendsLinkClick() {\r\n            toggleItemsType('friends')\r\n        }\r\n\r\n        if (isFetching) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className={style.userContainer}>\r\n                <ul className={style.navBar}>\r\n                    {itemsArr.map((item, i) =>\r\n                        <li key={i}><span className={item.styleName}\r\n                                          onClick={item.callback}>\r\n                        {item.name}</span></li>)}\r\n                </ul>\r\n\r\n                <div className={style.usersBlock}>\r\n\r\n                    <div className={style.titleWithSearchInput}>\r\n                        <h6 className={style.usersBlockTitle}>\r\n                            {titleText}\r\n                        </h6>\r\n                        <SuperInputText value={searchValue} onChange={onSearchInputChange}\r\n                                        onKeyPress={onSearchInputEnterPress} className={style.inputSearch}/>\r\n                    </div>\r\n\r\n                    <div className={style.users}>\r\n                        {\r\n                            items.map(item => <User item={item} isAuth={isAuth}/>)\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n                <Paginator totalUserCount={totalUserCount} pageSize={pageSize}\r\n                           onChangePageClick={handleChangePageClick} portionSize={portionSize}\r\n                           currentPage={currentPage}/>\r\n            </div>\r\n        )\r\n\r\n    }\r\n)\r\n\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    items: Array<ItemsUsersResponseType>\r\n    pageSize: number\r\n    totalUserCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    itemsType: itemsT\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    changePage: (currentPage: number) => void\r\n    toggleItemsType: (itemsType: itemsT) => void\r\n    setTerm: (term: Nullable<string>) => void\r\n}\r\n\r\ntype UsersPropsType = MapDispatchPropsType & MapStatePropsType\r\n\r\n\r\nlet mapStateToProps = (state: stateType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    items: state.UsersPage.items,\r\n    pageSize: state.UsersPage.pageSize,\r\n    totalUserCount: state.UsersPage.totalUserCount,\r\n    currentPage: state.UsersPage.currentPage,\r\n    isFetching: state.UsersPage.isFetching,\r\n    itemsType: state.UsersPage.itemsType,\r\n})\r\n\r\n\r\nexport default compose(\r\n    connect<MapStatePropsType, MapDispatchPropsType, {}, stateType>\r\n    (mapStateToProps, {changePage, toggleItemsType,setTerm}))(Users)","import React, {Component, ComponentType} from \"react\"\r\nimport {connect} from \"react-redux\";\r\nimport {itemsT} from \"../../redux/reducer/users/user-reducer\";\r\nimport {stateType} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\nimport Users from \"./Users\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\nimport {getUsersThunk} from \"../../redux/reducer/users/thunk\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\n/*import * as queryString from \"querystring\";*/\r\n\r\n\r\nclass UsersContainer extends Component<PropsType> {\r\n    componentDidMount() {\r\n       /* const parsed = queryString.parse(this.props.history.location.search.substr(1))\r\n        let actualPage = this.props.currentPage\r\n        let actualTerm = this.props.term\r\n        let actualFilter = this.props.itemsType\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n        if (!!parsed.term) actualTerm = parsed.term as string\r\n\r\n        switch (parsed.friend) {\r\n            case 'null':\r\n                actualFilter = null\r\n                break;\r\n            case 'true':\r\n                actualFilter = 'friends'\r\n                break;\r\n            case 'false':\r\n                actualFilter = 'users'\r\n                break;\r\n        }*/\r\n\r\n\r\n        this.props.getUsersThunk()\r\n    }\r\n\r\n    componentDidUpdate({currentPage, term, itemsType}: Readonly<PropsType>) {\r\n        if ((currentPage !== this.props.currentPage) || (term !== this.props.term) || (itemsType !== this.props.itemsType)) {\r\n            this.props.getUsersThunk()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Users/>\r\n    }\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    getUsersThunk: () => void\r\n}\r\ntype mapStateType = {\r\n    currentPage: number\r\n    itemsType: itemsT\r\n    term: Nullable<string>\r\n}\r\n\r\nexport type PropsType = mapDispatchToPropsType & mapStateType & RouteComponentProps\r\n\r\nlet mapStateToProps = (state: stateType) => ({\r\n    currentPage: state.UsersPage.currentPage,\r\n    itemsType: state.UsersPage.itemsType,\r\n    term: state.UsersPage.term,\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    connect<mapStateType, mapDispatchToPropsType, {}, stateType>\r\n    (mapStateToProps, {getUsersThunk}), withRouter)(UsersContainer)\r\n","import s from \"./Dialog.module.css\"\r\nimport React, {FC, memo} from \"react\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {PATH} from \"../../../enums/PATH\";\r\n\r\n\r\ntype DialogItemType = {\r\n    number: string\r\n    user: string\r\n}\r\n\r\n\r\nexport const DialogItem: FC<DialogItemType> = memo(({number, user}) => {\r\n    return (\r\n        <div>\r\n            <NavLink to={PATH.DIALOGS+'/' + number} className={s.dialog}\r\n                     activeClassName={s.active}>{user}</NavLink>\r\n        </div>\r\n    )\r\n})\r\n\r\n","import style from \"./Message.module.css\"\r\nimport React, {FC, memo} from \"react\"\r\n\r\n\r\ntype MessageItemType = {\r\n    textMessage: string\r\n}\r\n\r\n\r\nexport const MessageItem: FC<MessageItemType> = memo(({textMessage}) => {\r\n        return (\r\n            <div className={style.message}>{textMessage}</div>\r\n        )\r\n    }\r\n)\r\n","import style from \"./Dialogs.module.css\"\r\nimport React, {FC, memo} from \"react\"\r\nimport {DialogItem} from \"./Dialog/DialogItem\";\r\nimport {MessageItem} from \"./Message/Message\";\r\nimport {dialogsDataType, messageDataType} from \"../../redux/reducer/dialogs/dialog-reducer\";\r\nimport {EMPTY_STRING} from \"../../const\";\r\nimport {useFormik} from \"formik\";\r\n\r\ntype DialogsPropsType = {\r\n    dialogs: Array<dialogsDataType>\r\n    messages: Array<messageDataType>\r\n    addMessage: (newMessage: string) => void\r\n\r\n}\r\n\r\nexport const Dialogs: FC<DialogsPropsType> = memo(({dialogs, messages, addMessage}) => {\r\n\r\n    let dialogsElements = dialogs.map(({id, user}) => <DialogItem key={id} number={id} user={user}/>)\r\n    let messagesElements = messages.map(({id, textMessage}) => <MessageItem key={id} textMessage={textMessage}/>)\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            message: EMPTY_STRING\r\n        },\r\n\r\n        onSubmit: values => {\r\n                addMessage(values.message)\r\n                formik.resetForm()\r\n        },\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <div className={style.dialogs}>\r\n                <div className={style.dialogsItems}>\r\n                    {dialogsElements}\r\n                </div>\r\n\r\n                <div className={style.messages}>\r\n                    {messagesElements}\r\n                </div>\r\n            </div>\r\n            <div className={style.addMessageWrapper}>\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <textarea placeholder={'add message'}\r\n                              {...formik.getFieldProps('message')}/>\r\n                    <button>Send message</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\n","import {stateType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport React, {ComponentType} from \"react\";\r\nimport {PATH} from \"../enums/PATH\";\r\n\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nexport function withRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    let RedirectComponent = (props: mapStateToPropsType) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Redirect to={PATH.LOGIN}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}","import {addMessage,  dialogsDataType, messageDataType} from \"../../redux/reducer/dialogs/dialog-reducer\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {stateType} from \"../../redux/redux-store\";\r\nimport {withRedirect} from \"../../hoc/withRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {ComponentType} from \"react\";\r\n\r\ntype mapStateToPropsType = {\r\n    dialogs: Array<dialogsDataType>\r\n    messages: Array<messageDataType>\r\n}\r\n\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => ({\r\n    dialogs: state.DialogsPage.dialogsData,\r\n    messages: state.DialogsPage.messageData,\r\n\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {addMessage}),\r\n    withRedirect)(Dialogs)\r\n\r\n","export enum ERROR_MESSAGE {\r\n    INVALID_EMAIL = 'Invalid email address',\r\n    REQUIRED = 'Required',\r\n    SHORT_PASSWORD = 'Password must be 8 characters long',\r\n    NEED_NUMBER = 'Invalid password. Must contain one number',\r\n    NOT_MATCHED = 'Password not matched',\r\n}","export default __webpack_public_path__ + \"static/media/like.db5f2c5f.svg\";","import React, {FC, memo} from 'react';\r\nimport style from './Post.module.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {PATH} from \"../../../enums/PATH\";\r\nimport {initialUserAvatar} from \"../../../const\";\r\nimport like from './../../../assets/like.svg'\r\n\r\n\r\ntype PostPropsType = {\r\n    message: string\r\n    likesCount: number\r\n    date: string | number\r\n    fullName: string\r\n    id: string\r\n    email: string\r\n    photo: string\r\n    deletePost: (id: string) => void\r\n    likePost: (id: string) => void\r\n    isLiked:boolean\r\n    dislikePost: (id: string) => void\r\n}\r\n\r\nexport const Post: FC<PostPropsType> = memo(({\r\n                                                 message, likesCount, date, fullName,\r\n                                                 email, photo, id, deletePost,likePost,isLiked,dislikePost\r\n                                             }) => {\r\n\r\n\r\n\r\n        const srcForAvatar = photo || initialUserAvatar\r\n\r\n\r\n\r\n        const onDeleteLiClick = () => {\r\n            deletePost(id)\r\n        }\r\n\r\n        const onLikeIconClick=()=>{\r\n            if(isLiked)\r\n            dislikePost(id)\r\n            else likePost(id)\r\n        }\r\n\r\n        return (\r\n            <div className={style.postWrapper}>\r\n                <div className={style.myPosts}>\r\n                    <div className={style.leftBlock}>\r\n                        <NavLink to={PATH.PROFILE}>\r\n                            <img src={srcForAvatar} alt='avatar' className={style.avatar}/>\r\n                        </NavLink>\r\n\r\n                        <NavLink to={PATH.PROFILE} className={style.nameLink}>\r\n                            <h6 className={style.name}>{fullName}</h6>\r\n                            <small className={style.email}>{email}</small>\r\n                        </NavLink>\r\n                    </div>\r\n\r\n                    <div className={style.dateSettingsBlock}>\r\n                        <p className={style.date}>{date}</p>\r\n                        <div className={style.settingsBtn} onClick={onDeleteLiClick}>\r\n                           {/* {isSettingsShow && <ul className={style.settingsBlock}\r\n                                                   onMouseLeave={onSettingsMouseLeave}>\r\n                                  <li onClick={onEditLiClick}>Edit Post</li>\r\n                                <li onClick={onDeleteLiClick}>Delete Post</li>\r\n                            </ul>\r\n                            }*/}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={style.postBlock}>\r\n                    <div className={style.postText}>\r\n                        {message}\r\n                    </div>\r\n                    <div className={style.likeBlock}>\r\n                        {likesCount}<img src={like} className={style.likeIcon} alt='like' onClick={onLikeIconClick}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n)","import React, {ChangeEvent, DetailedHTMLProps, FC, KeyboardEvent, memo, TextareaHTMLAttributes} from 'react'\r\nimport style from './SuperTextarea.module.scss'\r\n\r\n\r\ntype DefaultTextareaPropsType = DetailedHTMLProps<TextareaHTMLAttributes<HTMLTextAreaElement>,HTMLTextAreaElement>\r\n\r\n\r\ntype SuperTextareaPropsType = DefaultTextareaPropsType & { // и + ещё пропсы которых нет в стандартном инпуте\r\n    onChangeText?: (value: string) => void\r\n    onEnter?: () => void\r\n\r\n    spanClassName?: string\r\n\r\n}\r\n\r\nconst SuperTextarea: FC<SuperTextareaPropsType> = memo((\r\n    {\r\n       // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeText,\r\n        onKeyPress, onEnter,\r\n\r\n        className,\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n\r\n    const finalTextareaClassName = `${style.textarea} ${className} `\r\n\r\n    const onChangeCallback = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n        onChange // если есть пропс onChange\r\n        && onChange(e) // то передать ему е (поскольку onChange не обязателен)\r\n        onChangeText && onChangeText(e.currentTarget.value)\r\n\r\n    }\r\n\r\n    const onKeyPressCallback = (e: KeyboardEvent<HTMLTextAreaElement>) => {\r\n        onKeyPress && onKeyPress(e);\r\n        onEnter // если есть пропс onEnter\r\n        && e.key === 'Enter' // и если нажата кнопка Enter\r\n        && onEnter() // то вызвать его\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <textarea\r\n                onChange={onChangeCallback}\r\n                onKeyPress={onKeyPressCallback}\r\n                className={finalTextareaClassName}\r\n                {...restProps}\r\n            />\r\n\r\n        </>\r\n    )\r\n})\r\n\r\nexport default SuperTextarea","import React, {FC, memo} from 'react';\r\nimport {Post} from \"./Post/Post\";\r\nimport {useFormik} from \"formik\";\r\nimport {EMPTY_STRING} from \"../../const\";\r\nimport {MyPostsPropsT} from \"./MyPostsContainer\";\r\nimport style from './MyPosts.module.scss'\r\nimport SuperButton from \"../SuperButton/SuperButton\";\r\nimport SuperTextarea from \"../SuperTextarea/SuperTextarea\";\r\n\r\n\r\nexport const MyPosts: FC<MyPostsPropsT> = memo(({\r\n                                                    postsData, addPost, profile, email, deletePost, likePost,\r\n                                                    dislikePost\r\n                                                }) => {\r\n\r\n    let postsElements = postsData.map(({message, likes, date, id, isLiked}) => <Post key={id} message={message}\r\n                                                                                     likesCount={likes}\r\n                                                                                     date={date}\r\n                                                                                     fullName={profile.fullName}\r\n                                                                                     email={email}\r\n                                                                                     photo={profile.photos.small}\r\n                                                                                     id={id} deletePost={deletePost}\r\n                                                                                     likePost={likePost}\r\n                                                                                     isLiked={isLiked}\r\n                                                                                     dislikePost={dislikePost}/>)\r\n\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            newPost: EMPTY_STRING\r\n        },\r\n\r\n        onSubmit: values => {\r\n            addPost(values.newPost)\r\n            formik.resetForm()\r\n        },\r\n    })\r\n\r\n    return (\r\n        <div className={style.myPostsContainer}>\r\n            {postsElements}\r\n            <form className={style.addPostForm} onSubmit={formik.handleSubmit}>\r\n                <SuperTextarea placeholder={'add post'} {...formik.getFieldProps('newPost')}\r\n                               className={style.fieldAddPost}/>\r\n                <SuperButton>Add post</SuperButton>\r\n            </form>\r\n\r\n        </div>\r\n\r\n\r\n    )\r\n})\r\n\r\n","import { profileDataUserType} from \"../../redux/reducer/profile/profile-reducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {stateType} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\nimport {ComponentType} from \"react\";\r\nimport {addPost, deletePost, dislikePost, likePost, postsDataType} from \"../../redux/reducer/posts/posts-reducer\";\r\n\r\n\r\nlet mapStateToProps = (state: stateType) => ({\r\n    postsData: state.posts.postsData,\r\n    profile: state.ProfilePage.profile,\r\n    email: state.auth.data.email,\r\n\r\n})\r\ntype mapStateToPropsT = {\r\n    postsData: Array<postsDataType>\r\n    profile: profileDataUserType\r\n    email: string\r\n}\r\n\r\ntype mapDispatchToPropsT = {\r\n    addPost: (newPostText: string) => void\r\n    deletePost: (id: string) => void\r\n    likePost: (id: string) => void\r\n    dislikePost : (id: string) =>void\r\n}\r\n\r\nexport type MyPostsPropsT = mapStateToPropsT & mapDispatchToPropsT\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {addPost, deletePost,likePost,dislikePost}))(MyPosts)","import {ChangeEvent, FC, KeyboardEvent, memo, useState} from \"react\";\r\nimport SuperInputText from \"../SuperInput/SuperInputText\";\r\nimport style from './EditableSpan.module.scss'\r\n\r\ntype EditableSpanT = {\r\n    title: string\r\n    updateTitle: (newTitle: string) => void\r\n    myStyle: string\r\n}\r\n\r\nexport const EditableSpan: FC<EditableSpanT> = memo(({title, updateTitle, myStyle}) => {\r\n    const [text, setText] = useState(title)\r\n    let [edit, setEdit] = useState(true)\r\n\r\n    const onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setText(e.currentTarget.value)\r\n        if(e.currentTarget.value===''){\r\n            setText('----')\r\n        }\r\n    }\r\n\r\n    const activateInputMode = () => {\r\n        setEdit(false)\r\n    }\r\n\r\n    const activateSpanMode = () => {\r\n        setEdit(true)\r\n        updateTitle(text)\r\n    }\r\n\r\n    const onActivateSpanKeyPress = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.code === \"Enter\") {\r\n            activateSpanMode()\r\n        }\r\n    }\r\n\r\n    return (\r\n        edit ?\r\n            <span onDoubleClick={activateInputMode} className={myStyle}>{title}</span>\r\n            : <SuperInputText value={text} onBlur={activateSpanMode} autoFocus onChange={onInputChange}\r\n                     onKeyPress={onActivateSpanKeyPress} className={style.input}/>\r\n    )\r\n})","import React, {ChangeEvent, FC, memo, MouseEvent, useState} from \"react\";\r\nimport style from \"./ProfileContact.module.scss\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {IconProp} from \"@fortawesome/fontawesome-svg-core\";\r\nimport SuperInputText from \"../../../../SuperInput/SuperInputText\";\r\nimport {updateProfileThunkT} from \"../../../../../redux/reducer/profile/thunk\";\r\n\r\n\r\ntype ProfileContactT = {\r\n    link: string\r\n    icon: IconProp\r\n    updateProfile: (updateContact: updateProfileThunkT) => void\r\n    isOwner: boolean\r\n    name: string\r\n}\r\n\r\nexport const ProfileContact: FC<ProfileContactT> = memo(({\r\n                                                             link, icon, updateProfile, isOwner,\r\n                                                             name\r\n                                                         }) => {\r\n\r\n        const [edit, setEdit] = useState(false)\r\n        const [linkURL, setLinkURL] = useState(link)\r\n\r\n\r\n        const onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n            setLinkURL(e.currentTarget.value)\r\n        }\r\n\r\n        const onInputBlur = () => {\r\n            if (linkURL) {\r\n                updateProfile({[name]: linkURL})\r\n            }\r\n            setEdit(false)\r\n        }\r\n\r\n        const onLinkDblClick = (e: MouseEvent<HTMLAnchorElement>) => {\r\n            if (isOwner && !link) {\r\n                e.preventDefault()\r\n                setEdit(true)\r\n            }\r\n        }\r\n\r\n        const classNameForEmptyLink = !link && style.emptyLink\r\n\r\n        if (!link && !isOwner) {\r\n            return <></>\r\n        }\r\n        return (\r\n            <>\r\n                <a href={link}\r\n                   className={`${style.icon} ${classNameForEmptyLink}`} onClick={onLinkDblClick}\r\n                   target='_blank' >\r\n                    <FontAwesomeIcon icon={icon}/></a>\r\n                {edit && <SuperInputText value={linkURL} onChange={onInputChange} className={style.input}\r\n                                         autoFocus onBlur={onInputBlur}/>}\r\n            </>\r\n        )\r\n    }\r\n)","import React, {FC, memo} from \"react\";\r\nimport {initialUserAvatar} from \"../../../../../const\";\r\nimport style from \"../ProfileForm.module.scss\";\r\nimport {ItemsUsersResponseType} from \"../../../../../api/types\";\r\nimport {NavLink,  useHistory} from \"react-router-dom\";\r\nimport {PATH} from \"../../../../../enums/PATH\";\r\nimport {itemsT} from \"../../../../../redux/reducer/users/user-reducer\";\r\n\r\n\r\ntype FriendsIconsT = {\r\n    followingUsers: Array<ItemsUsersResponseType>\r\n    totalUserCount:number\r\n    toggleItemsType : (itemsType: itemsT)=>void\r\n}\r\n\r\nexport const FriendsIcons: FC<FriendsIconsT> = memo(({followingUsers,totalUserCount,toggleItemsType}) => {\r\n\r\n    let history = useHistory();\r\n\r\n    const maxCountFollowingIcons = 5\r\n    const followingCount=totalUserCount\r\n\r\n    const onFriendBlockClick=()=>{\r\n        toggleItemsType('friends')\r\n        history.push(PATH.USERS)\r\n    }\r\n\r\n    return (\r\n        <div className={style.following}>\r\n            <div>\r\n                <p className={style.followingTitle}>{followingCount} Following</p>\r\n                <div onClick={onFriendBlockClick} className={style.followingIconsBlock}>\r\n                    {followingUsers.map((user, i) => {\r\n                            if (i < maxCountFollowingIcons)\r\n                                return <img key={i} src={user.photos.small || initialUserAvatar}\r\n                                            alt='following' className={style.followingPhoto}/>\r\n                            if (!user)\r\n                                return <NavLink to={PATH.USERS}>add following</NavLink>\r\n                        }\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React, {ChangeEvent, DetailedHTMLProps, FC, InputHTMLAttributes, memo} from 'react'\r\nimport style from './SuperCheckBox.module.scss'\r\nimport {EMPTY_STRING} from \"../../const\";\r\n\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\ntype SuperCheckboxPropsType = DefaultInputPropsType & {\r\n    onChangeChecked?: (checked: boolean) => void\r\n    spanClassName?: string\r\n}\r\n\r\nconst SuperCheckBox: FC<SuperCheckboxPropsType> = memo((\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeChecked,\r\n        className, spanClassName,\r\n        children, // в эту переменную попадёт текст, типизировать не нужно так как он затипизирован в React.FC\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChange&&onChange(e)\r\n        onChangeChecked&&onChangeChecked(e.currentTarget.checked)\r\n    }\r\n\r\n    const finalInputClassName = `${style.checkbox} ${className ? className : EMPTY_STRING}`\r\n\r\n    return (\r\n        <label className={style.labelForCheckBox}>\r\n            <input\r\n                type={'checkbox'}\r\n                onChange={onChangeCallback}\r\n                className={finalInputClassName}\r\n\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (checked например там внутри)\r\n            />\r\n            {children && <span className={style.spanClassName}>{children}</span>}\r\n        </label> // благодаря label нажатие на спан передастся в инпут\r\n    )\r\n})\r\n\r\nexport default SuperCheckBox","import style from './Modal.module.scss'\r\nimport {useFormik} from \"formik\";\r\nimport SuperInputText from \"../SuperInput/SuperInputText\";\r\nimport React, {FC, memo} from \"react\";\r\nimport SuperTextarea from \"../SuperTextarea/SuperTextarea\";\r\nimport SuperCheckBox from \"../SuperCheckBox/SuperCheckBox\";\r\nimport {updateProfileThunkT} from \"../../redux/reducer/profile/thunk\";\r\nimport SuperButton from \"../SuperButton/SuperButton\";\r\nimport {shallowEqual} from \"react-redux\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\nimport {IconProp} from \"@fortawesome/fontawesome-svg-core\";\r\n\r\ntype ItemForFormT={\r\n    title?:string\r\n    type?:string\r\n    initialValue:Nullable<string|boolean>\r\n    initialValueTitle:string\r\n    icon?:IconProp\r\n}\r\n\r\ntype ModalPropsT = {\r\n\r\n    onSubmitBtnClick: (updateItem: updateProfileThunkT) => void\r\n    setIsModalShown: (value: boolean) => void\r\n    itemsForForm:ItemForFormT[]\r\n}\r\n\r\n\r\nexport const Modal: FC<ModalPropsT> = memo(({itemsForForm, onSubmitBtnClick, setIsModalShown}) => {\r\n\r\n\r\n    let objInitialValues = {}\r\n    for (let i = 0; i < itemsForForm.length; i++) {\r\n        let newVal = {[itemsForForm[i].initialValueTitle]: itemsForForm[i].initialValue}\r\n        objInitialValues = {...objInitialValues, ...newVal}\r\n    }\r\n\r\n\r\n    const formik = useFormik({\r\n        initialValues: objInitialValues,\r\n\r\n        onSubmit: (values) => {\r\n            const hasChanged = !shallowEqual(formik.initialValues, values)\r\n            if(hasChanged){\r\n                onSubmitBtnClick(values)\r\n            }\r\n            setIsModalShown(false)\r\n        },\r\n    })\r\n\r\n    return (\r\n        <div className={style.modalContainer}>\r\n\r\n            <div className={style.modalBlock}>\r\n                <h2>Add information about yourself</h2>\r\n                <form onSubmit={formik.handleSubmit} className={style.form}>\r\n\r\n                    {itemsForForm.map((value, i) => {\r\n                        return <div key={i}>\r\n                            <p>{value.title||value.initialValueTitle}</p>\r\n                            {((value.type === 'input')||(!value.type)) &&\r\n                            <SuperInputText {...formik.getFieldProps(value.initialValueTitle)}\r\n                            placeholder={value.initialValueTitle}/>}\r\n                            {value.type === 'checkbox' &&\r\n                            <SuperCheckBox {...formik.getFieldProps(value.initialValueTitle)}/>}\r\n                            {value.type === 'textarea' &&\r\n                            <SuperTextarea {...formik.getFieldProps(value.initialValueTitle)}/>}\r\n                        </div>\r\n                    })}\r\n                    <SuperButton className={style.btnSave}>Save</SuperButton>\r\n\r\n                </form>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n})","import React, {FC, memo, useCallback, useState} from \"react\";\r\nimport {ContactsType} from \"../../../../redux/reducer/profile/profile-reducer\";\r\nimport style from './ProfileForm.module.scss'\r\nimport {faVk} from \"@fortawesome/free-brands-svg-icons/faVk\";\r\nimport {ProfileContact} from \"./ProfileContact/ProfileContact\";\r\nimport {faLinkedinIn} from \"@fortawesome/free-brands-svg-icons\";\r\nimport {faGithub} from \"@fortawesome/free-brands-svg-icons/faGithub\";\r\nimport {faYoutube} from \"@fortawesome/free-brands-svg-icons/faYoutube\";\r\nimport {faInstagram} from \"@fortawesome/free-brands-svg-icons/faInstagram\";\r\nimport {faTwitter} from \"@fortawesome/free-brands-svg-icons/faTwitter\";\r\nimport {faFacebook} from \"@fortawesome/free-brands-svg-icons/faFacebook\";\r\nimport {ItemsUsersResponseType} from \"../../../../api/types\";\r\nimport {FriendsIcons} from \"./FriendsIcons/FriendsIcons\";\r\nimport {itemsT} from \"../../../../redux/reducer/users/user-reducer\";\r\nimport {updateProfileThunkT} from \"../../../../redux/reducer/profile/thunk\";\r\nimport {faTelegramPlane} from \"@fortawesome/free-brands-svg-icons/faTelegramPlane\";\r\nimport {Modal} from \"../../../Modal/Modal\";\r\n\r\nexport type UpdateContactsType = {\r\n    facebook?: string\r\n    website?: string\r\n    vk?: string\r\n    twitter?: string\r\n    instagram?: string\r\n    youtube?: string\r\n    github?: string\r\n    mainLink?: string\r\n}\r\n\r\ntype ProfileFormT = {\r\n    contacts: ContactsType\r\n    isOwner: boolean\r\n    aboutMe: string\r\n    updateProfile: (updateProfile: updateProfileThunkT) => void\r\n    followingUsers: Array<ItemsUsersResponseType>\r\n    totalUserCount: number\r\n    toggleItemsType: (itemsType: itemsT) => void\r\n}\r\n\r\nexport const ProfileForm: FC<ProfileFormT> = memo(({\r\n                                                       contacts, isOwner, aboutMe, updateProfile,\r\n                                                       followingUsers, totalUserCount, toggleItemsType\r\n                                                   }) => {\r\n\r\n    const [isContactEditFormShown, setIsContactEditFormShown] = useState(false)\r\n\r\n    const contactsArr = [\r\n        {initialValueTitle: 'vk', initialValue: contacts.vk, icon: faVk},\r\n        {initialValueTitle: 'facebook', initialValue: contacts.facebook, icon: faFacebook},\r\n        {initialValueTitle: 'twitter', initialValue: contacts.twitter, icon: faTwitter},\r\n        {initialValueTitle: 'instagram', initialValue: contacts.instagram, icon: faInstagram},\r\n        {initialValueTitle: 'youtube', initialValue: contacts.youtube, icon: faYoutube},\r\n        {initialValueTitle: 'github', initialValue: contacts.github, icon: faGithub},\r\n        {initialValueTitle: 'website', initialValue: contacts.website, icon: faLinkedinIn},\r\n        {initialValueTitle: 'mainLink', initialValue: contacts.mainLink, icon: faTelegramPlane},\r\n    ]\r\n\r\n\r\n    const handleIconUpdateLinkClick = useCallback((updateContact: updateProfileThunkT) => {\r\n        updateProfile({contacts: {...contacts, ...updateContact}})\r\n    }, [contacts, updateProfile])\r\n\r\n    const onActivateModalIconClick = () => {\r\n        setIsContactEditFormShown(true)\r\n    }\r\n\r\n    return (\r\n        <div className={style.userForm}>\r\n            <p className={style.aboutMe}>{aboutMe}</p>\r\n            <p className={style.contacts}>\r\n                {isContactEditFormShown ?\r\n                    <Modal itemsForForm={contactsArr}\r\n                           onSubmitBtnClick={handleIconUpdateLinkClick}\r\n                           setIsModalShown={setIsContactEditFormShown}/>\r\n                    : contactsArr.map((contact, i) =>\r\n                        <ProfileContact key={i} link={contact.initialValue} icon={contact.icon}\r\n                                        updateProfile={handleIconUpdateLinkClick} isOwner={isOwner}\r\n                                        name={contact.initialValueTitle}/>)}\r\n\r\n                {isOwner && <span className={style.btnEditLinks} onClick={onActivateModalIconClick}/>}\r\n            </p>\r\n\r\n            {isOwner && <FriendsIcons followingUsers={followingUsers}\r\n                                      totalUserCount={totalUserCount} toggleItemsType={toggleItemsType}/>}\r\n        </div>\r\n    )\r\n})","import style from \"./ProfileAvatar.module.scss\";\r\nimport {initialUserAvatar} from \"../../../../const\";\r\nimport React, {ChangeEvent, FC, memo, useRef} from \"react\";\r\n\r\ntype ProfileAvatarType = {\r\n    isOwner: boolean\r\n    photo:string\r\n    saveProfileAvatar: (newAvatar: File) => void\r\n}\r\n\r\nexport const ProfileAvatar: FC<ProfileAvatarType> = memo(({isOwner,photo,saveProfileAvatar}) => {\r\n\r\n    const inRef = useRef<HTMLInputElement>(null);\r\n\r\n    const onImgClick=()=>{\r\n        inRef && inRef.current && inRef.current.click()\r\n    }\r\n\r\n    const onInputChooseAvatarChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            saveProfileAvatar(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <p className={isOwner ? style.imgWrappOwner : style.imgWrapp}\r\n           onClick={onImgClick}>\r\n            <img className={style.profilePhoto}\r\n                 src={photo || initialUserAvatar}\r\n                 alt={'profile avatar'}\r\n            />\r\n            {isOwner && <input type='file' onChange={onInputChooseAvatarChange}\r\n                               ref={inRef} style={{display: 'none'}}/>}\r\n        </p>\r\n    )\r\n})","import React, {FC, memo, useCallback, useState} from 'react';\r\nimport style from './ProfileInfo.module.scss'\r\nimport {EditableSpan} from \"../../EditableSpan/EditableSpan\";\r\nimport {ProfileForm} from \"./EditProfileForm/ProfileForm\";\r\nimport {ProfileInfoPropsType} from \"./ProfileInfoContainer\";\r\nimport FollowUnfollowBtn from \"../../FollowUnfollowBtn/FollowUnfollowBtn\";\r\nimport {ProfileAvatar} from \"./ProfileAvatar/ProfileAvatar\";\r\nimport {Modal} from \"../../Modal/Modal\";\r\n\r\n\r\nexport const ProfileInfo: FC<ProfileInfoPropsType> = memo(({\r\n                                                               profile, updateUserStatus, status, saveProfileAvatar,\r\n                                                               userIdAuth, updateProfile,\r\n                                                               totalUserCount, users, toggleItemsType\r\n                                                           }) => {\r\n\r\n    const [isModalShown, setIsModalShown] = useState(false)\r\n\r\n    const isOwner = userIdAuth === profile.userId;\r\n\r\n    const currentUser = users.find(user => user.id === profile.userId)\r\n\r\n    const valuesForUpdateProfile = [\r\n        {title: 'About me', type: 'textarea', initialValueTitle: 'aboutMe', initialValue: profile.aboutMe},\r\n        {title: 'Full name', type: 'input', initialValueTitle: 'fullName', initialValue: profile.fullName},\r\n        {\r\n            title: 'Looking for a job?',\r\n            type: 'checkbox',\r\n            initialValueTitle: 'lookingForAJob',\r\n            initialValue: profile.lookingForAJob\r\n        },\r\n        {\r\n            title: 'Describe your job',\r\n            type: 'input',\r\n            initialValueTitle: 'lookingForAJobDescription',\r\n            initialValue: profile.lookingForAJobDescription\r\n        },\r\n\r\n    ]\r\n\r\n    const handleEditableSpanClick = useCallback((newTitle: string) => {\r\n        if (newTitle !== profile.fullName) {\r\n            updateProfile({fullName: newTitle})\r\n        }\r\n    }, [profile.fullName, updateProfile])\r\n\r\n    const onEditProfileClick = () => {\r\n        setIsModalShown(true)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={style.profileInfoWrapper}>\r\n            {isModalShown && <Modal itemsForForm={valuesForUpdateProfile} onSubmitBtnClick={updateProfile}\r\n                                    setIsModalShown={setIsModalShown}/>}\r\n            <div className={style.headerBlock}>\r\n                <div className={style.flexCont}>\r\n                    <ProfileAvatar isOwner={isOwner} photo={profile.photos.small}\r\n                                   saveProfileAvatar={saveProfileAvatar}/>\r\n\r\n                    <div className={style.nameBlock}>\r\n                        <EditableSpan title={profile.fullName} updateTitle={handleEditableSpanClick}\r\n                                      myStyle={style.name}/>\r\n                        <EditableSpan title={status} updateTitle={updateUserStatus}\r\n                                      myStyle={style.status}/>\r\n                    </div>\r\n                </div>\r\n\r\n                {(!isOwner && currentUser) && <FollowUnfollowBtn item={currentUser}/>}\r\n\r\n                {isOwner && <div className={style.settingsBtn} onClick={onEditProfileClick}/>}\r\n\r\n            </div>\r\n            <ProfileForm contacts={profile.contacts} aboutMe={profile.aboutMe} isOwner={isOwner}\r\n                         updateProfile={updateProfile} followingUsers={users}\r\n                         totalUserCount={totalUserCount} toggleItemsType={toggleItemsType}/>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {actionsType, stateType, ThunkType} from \"../../redux-store\";\r\nimport {setAppStatusAC} from \"../app/app-reducer\";\r\nimport {ProfileAPI} from \"../../../api/api\";\r\nimport {RESULT_CODES} from \"../../../enums/ResultCode\";\r\nimport {ContactsType, setAvatar, setStatus, setUserProfile} from \"./profile-reducer\";\r\n\r\nexport const getUserProfile = (userId: number) =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        let data = await ProfileAPI.getUserProfileAPI(userId)\r\n        dispatch(setUserProfile(data))\r\n        dispatch(setAppStatusAC('succeeded'))\r\n    }\r\n\r\nexport const getUserStatus = (userId: number) =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        let data = await ProfileAPI.getStatus(userId)\r\n        dispatch(setStatus(data))\r\n        dispatch(setAppStatusAC('succeeded'))\r\n    }\r\n\r\nexport const updateUserStatus = (status: string) =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        let data = await ProfileAPI.updateStatus(status)\r\n        if (data.resultCode === RESULT_CODES.SUCCESS) {\r\n            dispatch(setStatus(status))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        }\r\n    }\r\n\r\nexport const saveProfileAvatar = (newAvatar: File) =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        let data = await ProfileAPI.updateAvatar(newAvatar)\r\n        if (data.resultCode === RESULT_CODES.SUCCESS) {\r\n            dispatch(setAvatar(data.data.photos))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        }\r\n    }\r\n\r\nexport const updateProfile = (updateProfile: updateProfileThunkT): ThunkType =>\r\n    async (dispatch\r\n        , getState: () => stateType) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n\r\n        let {\r\n            userId, aboutMe, lookingForAJob, lookingForAJobDescription, fullName,\r\n            contacts\r\n        } = getState().ProfilePage.profile\r\n\r\n        let profileForUpdate = {\r\n            userId, aboutMe, lookingForAJob, lookingForAJobDescription, fullName,\r\n            contacts, ...updateProfile\r\n        }\r\n        let data = await ProfileAPI.updateProfile(profileForUpdate)\r\n        if (data.resultCode === RESULT_CODES.SUCCESS) {\r\n            await dispatch(getUserProfile(userId))\r\n        }\r\n    }\r\n\r\n\r\nexport type updateProfileThunkT = {\r\n    userId?: number\r\n    lookingForAJob?: boolean\r\n    lookingForAJobDescription?: string\r\n    fullName?: string\r\n    contacts?: ContactsType\r\n    aboutMe?: string\r\n}","import {stateType} from \"../../../redux/redux-store\";\r\nimport {\r\n    profileDataUserType,\r\n\r\n} from \"../../../redux/reducer/profile/profile-reducer\";\r\nimport {Nullable} from \"../../../types/Nullable\";\r\nimport {ItemsUsersResponseType} from \"../../../api/types\";\r\nimport {connect} from \"react-redux\";\r\nimport {ProfileInfo} from \"./ProfileInfo\";\r\nimport {itemsT, toggleItemsType} from \"../../../redux/reducer/users/user-reducer\";\r\nimport {\r\n    saveProfileAvatar,\r\n    updateProfile,\r\n    updateProfileThunkT,\r\n    updateUserStatus\r\n} from \"../../../redux/reducer/profile/thunk\";\r\n\r\nexport type ProfileInfoPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\nlet mapStateToProps = (state: stateType) => ({\r\n    profile: state.ProfilePage.profile,\r\n    userIdAuth: state.auth.data.id,\r\n    status: state.ProfilePage.status,\r\n    users: state.UsersPage.items,\r\n    totalUserCount: state.UsersPage.totalUserCount,\r\n})\r\n\r\n\r\ntype mapStateToPropsType = {\r\n    profile: profileDataUserType\r\n    status: string\r\n    userIdAuth: Nullable<number>\r\n    users: Array<ItemsUsersResponseType>\r\n    totalUserCount: number\r\n}\r\ntype mapDispatchToPropsType = {\r\n    updateUserStatus: (status: string) => void\r\n    saveProfileAvatar: (newAvatar: File) => void\r\n    updateProfile: (updateProfile: updateProfileThunkT) => void\r\n    toggleItemsType : (itemsType: itemsT)=>void\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\r\n(mapStateToProps, {updateUserStatus,  saveProfileAvatar, updateProfile,toggleItemsType})(ProfileInfo);","import React, {FC, memo} from 'react';\r\nimport MyPostsContainer from \"../MyPosts/MyPostsContainer\";\r\nimport style from './Profile.module.scss'\r\nimport ProfileInfoContainer from '../MyPosts/ProfileInfo/ProfileInfoContainer';\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport {profileDataUserType} from \"../../redux/reducer/profile/profile-reducer\";\r\n\r\n\r\ntype ProfilePropsType = {\r\n\r\n    profile: profileDataUserType\r\n    userId:string\r\n}\r\n\r\nexport const Profile: FC<ProfilePropsType> = memo(({ profile,userId}) => {\r\n\r\n    if (Object.keys(profile).length === 0) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.profileWrapper}>\r\n            <ProfileInfoContainer/>\r\n            { !userId && <MyPostsContainer/>}\r\n        </div>\r\n\r\n    )\r\n})","import React, {ComponentType, PureComponent} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Profile} from \"./Profile\";\r\nimport {\r\n    profileDataUserType,\r\n\r\n} from \"../../redux/reducer/profile/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {stateType} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\nimport {PATH} from \"../../enums/PATH\";\r\nimport {itemsT, toggleItemsType} from \"../../redux/reducer/users/user-reducer\";\r\nimport {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    saveProfileAvatar,\r\n    updateProfile,\r\n    updateUserStatus\r\n} from \"../../redux/reducer/profile/thunk\";\r\nimport {getUsersThunk} from \"../../redux/reducer/users/thunk\";\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\nclass ProfileContainer extends PureComponent<ProfilePropsType> {\r\n\r\n    componentDidMount() {\r\n        this.refresh()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<ProfilePropsType>, prevState: Readonly<{}>) {\r\n        if ((prevProps.match.params.userId !== this.props.match.params.userId) ||\r\n            (prevProps.isAuth !== this.props.isAuth)) {\r\n            this.refresh()\r\n        }\r\n    }\r\n\r\n    refresh = () => {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId && this.props.isAuth && this.props.userIdAuth) {\r\n            userId = this.props.userIdAuth.toString()\r\n            this.props.toggleItemsType('friends')\r\n            this.props.getUsersThunk()\r\n        }\r\n        if (!userId && !this.props.isAuth) {\r\n            this.props.history.push(PATH.LOGIN)\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getUserStatus(userId)\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile  profile={this.props.profile} userId={this.props.match.params.userId}/>\r\n        );\r\n    }\r\n}\r\n\r\ntype ProfilePropsType = OwnProfilePropsType & RouteComponentProps<PathParamsType>\r\ntype OwnProfilePropsType = mapStateToPropsType & mapDispatchToPropsType\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    userIdAuth: Nullable<number>\r\n    profile: profileDataUserType\r\n}\r\ntype mapDispatchToPropsType = {\r\n    getUserProfile: (userId: string) => void\r\n    getUserStatus: (userId: string) => void\r\n    getUsersThunk: () => void\r\n    toggleItemsType : (itemsType: itemsT)=>void\r\n\r\n}\r\nlet mapStateToProps = (state: stateType): mapStateToPropsType => ({\r\n    userIdAuth: state.auth.data.id,\r\n    isAuth: state.auth.isAuth,\r\n    profile: state.ProfilePage.profile,\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {\r\n        getUserProfile, getUserStatus, updateUserStatus, saveProfileAvatar,\r\n        updateProfile, getUsersThunk,toggleItemsType\r\n    }),\r\n    withRouter)(ProfileContainer)\r\n\r\n\r\n","import {FormDataType} from \"../components/Login/Login\";\r\nimport {ERROR_MESSAGE} from \"../enums/ErrorMessages\";\r\n\r\nexport type FormikErrorType = {\r\n    message?: string\r\n    email?:string\r\n    password?: string\r\n    rememberMe?: boolean\r\n    captcha?:string\r\n}\r\n\r\nconst minPasswordLength=8\r\nconst passwordRegex = /(?=.*[0-9])/\r\n\r\nexport const validateLoginForm = (values: FormDataType, errors: FormikErrorType) => {\r\n    if (!values.email) {\r\n        errors.email = ERROR_MESSAGE.REQUIRED;\r\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n        errors.email = ERROR_MESSAGE.INVALID_EMAIL;\r\n    }\r\n    if (!values.password) {\r\n        errors.password = ERROR_MESSAGE.REQUIRED;\r\n    } else if (values.password.length < minPasswordLength) {\r\n        errors.password = ERROR_MESSAGE.SHORT_PASSWORD;\r\n    } else if (!passwordRegex.test(values.password)) {\r\n        errors.password = ERROR_MESSAGE.NEED_NUMBER;\r\n    }\r\n}","import React, {FC, memo} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {loginAPIDataType} from \"../../api/types\";\r\nimport {useFormik} from \"formik\";\r\nimport {EMPTY_STRING} from \"../../const\";\r\nimport {PATH} from \"../../enums/PATH\";\r\nimport {FormikErrorType, validateLoginForm} from \"../../utils/validators\";\r\nimport style from './Login.module.scss'\r\nimport SuperButton from \"../SuperButton/SuperButton\";\r\nimport SuperInputText from \"../SuperInput/SuperInputText\";\r\nimport SuperCheckBox from \"../SuperCheckBox/SuperCheckBox\";\r\n\r\n\r\ntype LoginPropsType = {\r\n    loginThunk: (loginData: loginAPIDataType) => void\r\n    isAuth: boolean\r\n    captchaUrl: string\r\n}\r\n\r\nexport type FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\n\r\n\r\nexport const Login: FC<LoginPropsType> = memo(({loginThunk, isAuth, captchaUrl}) => {\r\n\r\n        const formik = useFormik<FormDataType>({\r\n            initialValues: {\r\n                email: process.env.REACT_APP_EMAIL as string,\r\n                password: process.env.REACT_APP_PASSWORD as string,\r\n                rememberMe: false,\r\n                captcha: EMPTY_STRING,\r\n            },\r\n\r\n            validate: (values) => {\r\n                const errors: FormikErrorType = {};\r\n                validateLoginForm(values, errors)\r\n                return errors;\r\n            },\r\n\r\n            onSubmit: values => {\r\n                loginThunk(values)\r\n                formik.resetForm()\r\n            },\r\n        })\r\n\r\n    const fieldsWithValidation=[\r\n        {name:'email',touched:formik.touched.email,error:formik.errors.email},\r\n        {name:'password',touched:formik.touched.password,error:formik.errors.password},\r\n    ]\r\n\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={PATH.PROFILE}/>\r\n    }\r\n\r\n        return (\r\n            <div className={style.loginWrapper}>\r\n                <h2 className={style.title}>Login</h2>\r\n                <form onSubmit={formik.handleSubmit} className={style.form}>\r\n\r\n                    {fieldsWithValidation.map((field,i)=>{\r\n                        return <div key={i} className={style.relativeInputBlock}>\r\n                            <SuperInputText placeholder={field.name}\r\n                                            {...formik.getFieldProps(field.name)}\r\n                                            className={style.input}/>\r\n                            {(field.touched && field.error) && <div\r\n                                className={style.error}>{field.error}</div>}\r\n                        </div>\r\n                    })}\r\n\r\n                    <SuperCheckBox type={'checkbox'} {...formik.getFieldProps('rememberMe')}\r\n                                   className={style.padding}>\r\n                        remember me\r\n                    </SuperCheckBox>\r\n\r\n                    {captchaUrl &&\r\n                    <div>\r\n                        <img src={captchaUrl} alt='captcha'/>\r\n                        <input placeholder='add captcha' {...formik.getFieldProps('captcha')}/>\r\n                    </div>}\r\n\r\n                    <SuperButton className={style.btnMargin}>Login</SuperButton>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n)\r\n","import {Dispatch} from \"redux\";\r\nimport {actionsType} from \"../redux/redux-store\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {ResponseType} from \"../api/types\";\r\nimport {setAppStatusAC} from \"../redux/reducer/app/app-reducer\";\r\n\r\nexport const handleServerNetworkError = <T>(data:ResponseType<T>, dispatch: ErrorUtilsDispatchType) => {\r\n    let textErr = data.messages.length > 0 ? data.messages[0] : 'some err'\r\n    dispatch(stopSubmit('login', {_error: textErr}))\r\n    dispatch(setAppStatusAC('failed'))\r\n}\r\n\r\ntype ErrorUtilsDispatchType = Dispatch<actionsType>","import {Dispatch} from \"redux\";\r\nimport {actionsType, ThunkType} from \"../../redux-store\";\r\nimport {setAppStatusAC} from \"../app/app-reducer\";\r\nimport {LoginAPI, securityAPI} from \"../../../api/api\";\r\nimport {RESULT_CODES} from \"../../../enums/ResultCode\";\r\nimport {loginAPIDataType} from \"../../../api/types\";\r\nimport {handleServerNetworkError} from \"../../../utils/errorHandler\";\r\nimport {setAuthUserData, setCaptchaSuccess} from \"./auth-reducer\";\r\n\r\nexport const getAuthDataThunk = () =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        let data = await LoginAPI.getAuthUserData()\r\n        if (data.resultCode === RESULT_CODES.SUCCESS) {\r\n            dispatch(setAuthUserData(data.data, true))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        }\r\n    }\r\n\r\n\r\nexport const loginThunk = (loginData: loginAPIDataType): ThunkType =>\r\n    async (dispatch) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n\r\n        let data = await LoginAPI.login(loginData)\r\n        if (data.resultCode === RESULT_CODES.SUCCESS) {\r\n            await dispatch(getAuthDataThunk())\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        }\r\n        if (data.resultCode === RESULT_CODES.CAPTCHA) {\r\n            await dispatch(getCaptcha())\r\n        } else {\r\n            handleServerNetworkError(data, dispatch)\r\n        }\r\n    }\r\n\r\n\r\nexport const logoutThunk = () =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        let data = await LoginAPI.logout()\r\n        if (data.resultCode === RESULT_CODES.SUCCESS) {\r\n            dispatch(setAuthUserData({id: null, login: null, email: null}, false))\r\n            dispatch(setAppStatusAC('succeeded'))\r\n        }\r\n    }\r\nexport const getCaptcha = () =>\r\n    async (dispatch: Dispatch<actionsType>) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        let data = await securityAPI()\r\n        dispatch(setCaptchaSuccess(data.url))\r\n        dispatch(setAppStatusAC('succeeded'))\r\n\r\n    }","import {connect} from \"react-redux\";\r\nimport {Login} from \"./Login\";\r\nimport {stateType} from \"../../redux/redux-store\";\r\nimport {loginAPIDataType} from \"../../api/types\";\r\nimport {loginThunk} from \"../../redux/reducer/auth/thunk\";\r\n\r\n\r\ntype mapDispatchToPropsType = {\r\n    loginThunk: (loginData: loginAPIDataType) => void\r\n}\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    userId: number | undefined\r\n    captchaUrl:string\r\n}\r\n\r\nconst mapStateToProps = (state: stateType): mapStateToPropsType => {\r\n    return({\r\n        isAuth: state.auth.isAuth,\r\n        userId: state.ProfilePage.profile.userId,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    })\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>(mapStateToProps\r\n    , {loginThunk})(Login)","import {NavLink} from \"react-router-dom\";\r\nimport style from './ItemList.module.scss';\r\nimport {FC, memo} from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {IconProp} from \"@fortawesome/fontawesome-svg-core\";\r\n\r\n\r\ntype ItemListT = {\r\n    path: string\r\n    title: string\r\n    icon: IconProp\r\n}\r\n\r\nexport const ItemList: FC<ItemListT> = memo(({path, title,icon}) => {\r\n\r\n   /* const onUsersItemClick=()=>{\r\n\r\n    }*/\r\n\r\n    return (\r\n        <li className={style.item}>\r\n            <NavLink activeClassName={style.active} to={path}>\r\n                <span className={style.icon}>\r\n                    <FontAwesomeIcon icon={icon}/></span>\r\n                <span>{title}</span>\r\n            </NavLink></li>\r\n    )\r\n})","import React, {FC, memo} from 'react';\r\nimport style from './NavBar.module.scss'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {connect} from \"react-redux\";\r\nimport {stateType} from \"../../redux/redux-store\";\r\nimport {PATH} from \"../../enums/PATH\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\r\nimport {ItemList} from \"./ItemList/ItemList\";\r\nimport {faUser} from \"@fortawesome/free-regular-svg-icons/faUser\";\r\nimport {faEnvelope} from \"@fortawesome/free-regular-svg-icons/faEnvelope\";\r\nimport {faUsers} from \"@fortawesome/free-solid-svg-icons/faUsers\";\r\nimport {faRss} from \"@fortawesome/free-solid-svg-icons/faRss\";\r\nimport {faItunesNote} from \"@fortawesome/free-brands-svg-icons/faItunesNote\";\r\nimport {faCogs} from \"@fortawesome/free-solid-svg-icons/faCogs\";\r\nimport {faSignOutAlt} from \"@fortawesome/free-solid-svg-icons/faSignOutAlt\";\r\nimport {logoutThunk} from \"../../redux/reducer/auth/thunk\";\r\n\r\ntype NavBarPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\nconst NavBar: FC<NavBarPropsType> = memo(({isAuth, logoutThunk}) => {\r\n\r\n\r\n    const listArray = [\r\n        {path: PATH.PROFILE, title: 'PROFILE', icon: faUser},\r\n        {path: PATH.DIALOGS, title: 'DIALOGS', icon: faEnvelope},\r\n        {path: PATH.USERS, title: 'USERS', icon: faUsers},\r\n        {path: PATH.NEWS, title: 'NEWS', icon: faRss},\r\n        {path: PATH.MUSIC, title: 'MUSIC', icon: faItunesNote},\r\n        {path: PATH.SETTINGS, title: 'SETTINGS', icon: faCogs},\r\n    ]\r\n\r\n    const onLogoutSpanClick = () => {\r\n        logoutThunk()\r\n        return <Redirect to={PATH.LOGIN}/>\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <nav className={style.navBar}>\r\n            <ul className={style.list}>\r\n                {listArray.map((item, i) => <ItemList key={i} path={item.path}\r\n                                                      title={item.title} icon={item.icon}/>)}\r\n                {isAuth && <li className={style.item}>\r\n                    <span className={style.span} onClick={onLogoutSpanClick}>\r\n                        <span className={style.icon}>\r\n                        <FontAwesomeIcon icon={faSignOutAlt}/></span>\r\n                         <span>LOGOUT</span>\r\n                    </span>\r\n                </li>}\r\n            </ul>\r\n        </nav>\r\n\r\n    )\r\n})\r\n\r\ntype mapStateToPropsType = {\r\n    authId: Nullable<number>\r\n    isAuth: boolean\r\n}\r\ntype mapDispatchToPropsType = {\r\n    logoutThunk: () => void\r\n}\r\n\r\nlet mapStateToProps = (state: stateType) => ({\r\n    authId: state.auth.data.id,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {logoutThunk})(NavBar)","import React from \"react\";\r\n\r\nexport const NotFound = () => {\r\n    return (\r\n        <h1>404: PAGE NOT FOUND</h1>\r\n    )\r\n}","import React, {PureComponent} from 'react';\r\nimport './App.module.scss';\r\nimport {News} from \"./components/News/News\";\r\nimport {Music} from './components/Music/Music';\r\nimport {Settings} from './components/Settings/Settings';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {stateType} from \"./redux/redux-store\";\r\nimport { RequestStatusType} from \"./redux/reducer/app/app-reducer\";\r\nimport Preloader from \"./common/preloader/Preloader\";\r\nimport NavBar from \"./components/NavBar/NavBar\";\r\nimport {PATH} from \"./enums/PATH\";\r\nimport {NotFound} from \"./components/NotFound/NotFound\";\r\nimport style from './App.module.scss'\r\nimport {Initialize} from \"./redux/reducer/app/thunk\";\r\n\r\n\r\ntype AppPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\nclass App extends PureComponent<AppPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.Initialize()\r\n    }\r\n\r\n\r\n    render() {\r\n        if (!this.props.isInitialization) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className={style.appContainer}>\r\n                <div className={/*{this.props.isAuth? */style.appWrapperAuth /*: style.appWrapper*/}>\r\n                    <NavBar />\r\n                    <div className={style.appWrapperContent}>\r\n                        {this.props.RequestStatus === 'loading' && <Preloader/>}\r\n                        <Switch>\r\n                            <Route exact path={PATH.START}\r\n                                   render={() => <ProfileContainer/>}/>\r\n                            <Route path={PATH.PROFILE + '/:userId?'}\r\n                                   render={() => <ProfileContainer/>}/>\r\n                            <Route path={PATH.DIALOGS} render={() => <DialogsContainer/>}/>\r\n                            <Route path={PATH.NEWS} render={() => <News/>}/>\r\n                            <Route path={PATH.USERS} render={() => <UsersContainer/>}/>\r\n                            <Route path={PATH.MUSIC} render={() => <Music/>}/>\r\n                            <Route path={PATH.SETTINGS} render={() => <Settings/>}/>\r\n                            <Route path={PATH.LOGIN} render={() => <LoginContainer/>}/>\r\n                            <Route path={PATH.NOT_FOUND} render={() => <NotFound/>}/>\r\n                            <Redirect from={'*'} to={PATH.NOT_FOUND}/>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: stateType) => {\r\n    return ({\r\n        isInitialization: state.app.isInitialization,\r\n        RequestStatus: state.app.RequestStatus,\r\n        isAuth: state.auth.isAuth,\r\n    })\r\n}\r\ntype mapStateToPropsType = {\r\n    isInitialization: boolean\r\n    RequestStatus: RequestStatusType\r\n    isAuth: boolean\r\n\r\n}\r\ntype mapDispatchToPropsType = {\r\n    Initialize:()=>void\r\n\r\n}\r\n\r\nexport default connect<mapStateToPropsType, mapDispatchToPropsType, {}, stateType>\r\n(mapStateToProps, {Initialize})(App);\r\n","import {ThunkType} from \"../../redux-store\";\r\nimport {setAppStatusAC, setInitialization} from \"./app-reducer\";\r\nimport {getAuthDataThunk} from \"../auth/thunk\";\r\n\r\nexport const Initialize = (): ThunkType =>\r\n    async (dispatch) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        await dispatch(getAuthDataThunk())\r\n        dispatch(setInitialization())\r\n        dispatch(setAppStatusAC('succeeded'))\r\n    }","import React from 'react';\r\nimport './index.css';\r\nimport {store} from \"./redux/redux-store\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport { Provider } from 'react-redux';\r\n\r\n    ReactDOM.render(\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>, document.getElementById('root')\r\n    );\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userContainer\":\"Users_userContainer__hu8kj\",\"navBar\":\"Users_navBar__1I9oa\",\"link\":\"Users_link__2KPRe\",\"activeLink\":\"Users_activeLink__deytZ\",\"usersBlock\":\"Users_usersBlock__iZSK1\",\"titleWithSearchInput\":\"Users_titleWithSearchInput__1cJOr\",\"usersBlockTitle\":\"Users_usersBlockTitle__3RMme\",\"inputSearch\":\"Users_inputSearch__1C4KB\",\"users\":\"Users_users__yEdDF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userForm\":\"ProfileForm_userForm__2XxLY\",\"aboutMe\":\"ProfileForm_aboutMe__1cFWw\",\"contacts\":\"ProfileForm_contacts__M5zqq\",\"btnEditLinks\":\"ProfileForm_btnEditLinks__2N8A7\",\"following\":\"ProfileForm_following__auTiw\",\"followingTitle\":\"ProfileForm_followingTitle__2ThxC\",\"followingIconsBlock\":\"ProfileForm_followingIconsBlock__3Dgno\",\"followingPhoto\":\"ProfileForm_followingPhoto__2s353\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"Login_loginWrapper__1Amt2\",\"title\":\"Login_title__3Mb8N\",\"form\":\"Login_form__1sfOd\",\"relativeInputBlock\":\"Login_relativeInputBlock__2ukZj\",\"input\":\"Login_input__2a9-e\",\"error\":\"Login_error__GVoOQ\",\"btnMargin\":\"Login_btnMargin__1IgXi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfoWrapper\":\"ProfileInfo_profileInfoWrapper__2jo_w\",\"headerBlock\":\"ProfileInfo_headerBlock__DCjFd\",\"flexCont\":\"ProfileInfo_flexCont__1eCI_\",\"nameBlock\":\"ProfileInfo_nameBlock__3rLED\",\"name\":\"ProfileInfo_name__1lRlx\",\"status\":\"ProfileInfo_status__KYg5E\",\"settingsBtn\":\"ProfileInfo_settingsBtn__325Su\",\"userForm\":\"ProfileInfo_userForm__1YStq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBlock\":\"User_userBlock__1Y_Af\",\"userPhoto\":\"User_userPhoto__3ZUbA\",\"userName\":\"User_userName__1WLaC\",\"userStatus\":\"User_userStatus__pKXgk\",\"followBtn\":\"User_followBtn__1UzCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"NavBar_navBar__1igcF\",\"list\":\"NavBar_list__1kK4M\",\"span\":\"NavBar_span__1KRGP\",\"icon\":\"NavBar_icon__3Ramj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContainer\":\"App_appContainer__27tgw\",\"appWrapperAuth\":\"App_appWrapperAuth__1FLT7\",\"appWrapperContent\":\"App_appWrapperContent__3tMTP\",\"appWrapper\":\"App_appWrapper__1kRkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3JOtC\",\"dialogsItems\":\"Dialogs_dialogsItems__1YeOq\",\"dialog\":\"Dialogs_dialog__2AVQe\",\"active\":\"Dialogs_active__3Zhq4\",\"addMessageWrapper\":\"Dialogs_addMessageWrapper__hc9Qh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContainer\":\"Modal_modalContainer__B4Nq2\",\"modalBlock\":\"Modal_modalBlock__bRKdh\",\"form\":\"Modal_form__3bnoF\",\"btnSave\":\"Modal_btnSave__2mjDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Paginator_currentPage__h8BNM\",\"pageNum\":\"Paginator_pageNum__dAqj0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SuperButton_btn__1AbLl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SuperInputText_input__2qSuz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPostsContainer\":\"MyPosts_myPostsContainer__3JieQ\",\"addPostForm\":\"MyPosts_addPostForm__1KsW_\",\"fieldAddPost\":\"MyPosts_fieldAddPost__2PkLT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"ProfileContact_icon__1JBoZ\",\"emptyLink\":\"ProfileContact_emptyLink__1dg6W\",\"input\":\"ProfileContact_input__2qBSL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"SuperCheckBox_checkbox__N_fxl\",\"labelForCheckBox\":\"SuperCheckBox_labelForCheckBox__i47Ap\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgWrappOwner\":\"ProfileAvatar_imgWrappOwner__3IAA0\",\"profilePhoto\":\"ProfileAvatar_profilePhoto__3-rua\",\"imgWrapp\":\"ProfileAvatar_imgWrapp__EW05a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ItemList_item__3MKIo\",\"active\":\"ItemList_active__nausF\",\"icon\":\"ItemList_icon__1MKGS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__YbpnJ\",\"active\":\"Dialog_active__29P3J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgPreload\":\"Preloader_imgPreload__tTJUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"SuperTextarea_textarea__27Poy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__1exWh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"EditableSpan_input__1fSKU\"};"],"sourceRoot":""}